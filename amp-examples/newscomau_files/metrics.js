/*! METRICS 2016-11-10 10:11 */
!function(){function a(a,b){if(!a)throw"Visitor requires Adobe Marketing Cloud Org ID";var c=this;c.version="1.6.0";var d=window,e=d.Visitor;e.version=c.version,d.s_c_in||(d.s_c_il=[],d.s_c_in=0),c._c="Visitor",c._il=d.s_c_il,c._in=d.s_c_in,c._il[c._in]=c,d.s_c_in++,c.ia={Ca:[]};var f=d.document,g=e.pb;g||(g=null);var h=e.qb;h||(h=void 0);var i=e.Ia;i||(i=w);var j=e.Ga;j||(j=x),c.ea=function(a){var b,c,d=0;if(a)for(b=0;b<a.length;b++)c=a.charCodeAt(b),d=(d<<5)-d+c,d&=d;return d},c.v=function(a){var b,c="0123456789",d="",e="",f=8,g=10,h=10;if(1==a){for(c+="ABCDEF",a=0;16>a;a++)b=Math.floor(Math.random()*f),d+=c.substring(b,b+1),b=Math.floor(Math.random()*f),e+=c.substring(b,b+1),f=16;return d+"-"+e}for(a=0;19>a;a++)b=Math.floor(Math.random()*g),d+=c.substring(b,b+1),0==a&&9==b?g=3:(1==a||2==a)&&10!=g&&2>b?g=10:a>2&&(g=10),b=Math.floor(Math.random()*h),e+=c.substring(b,b+1),0==a&&9==b?h=3:(1==a||2==a)&&10!=h&&2>b?h=10:a>2&&(h=10);return d+e},c.Ka=function(){var a;if(!a&&d.location&&(a=d.location.hostname),a)if(/^[0-9.]+$/.test(a))a="";else{var b=a.split("."),c=b.length-1,e=c-1;if(c>1&&2>=b[c].length&&(2==b[c-1].length||0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+b[c]+","))&&e--,e>0)for(a="";c>=e;)a=b[c]+(a?".":"")+a,c--}return a},c.cookieRead=function(a){var a=encodeURIComponent(a),b=(";"+f.cookie).split(" ").join(";"),c=b.indexOf(";"+a+"="),d=0>c?c:b.indexOf(";",c+1);return 0>c?"":decodeURIComponent(b.substring(c+2+a.length,0>d?b.length:d))},c.cookieWrite=function(a,b,d){var e,g=c.cookieLifetime,b=""+b,g=g?(""+g).toUpperCase():"";return d&&"SESSION"!=g&&"NONE"!=g?(e=""!=b?parseInt(g?g:0,10):-60)?(d=new Date,d.setTime(d.getTime()+1e3*e)):1==d&&(d=new Date,e=d.getYear(),d.setYear(e+2+(1900>e?1900:0))):d=0,a&&"NONE"!=g?(f.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+"; path=/;"+(d?" expires="+d.toGMTString()+";":"")+(c.cookieDomain?" domain="+c.cookieDomain+";":""),c.cookieRead(a)==b):0},c.g=g,c.K=function(a,b){try{"function"==typeof a?a.apply(d,b):a[1].apply(a[0],b)}catch(c){}},c.Oa=function(a,b){b&&(c.g==g&&(c.g={}),c.g[a]==h&&(c.g[a]=[]),c.g[a].push(b))},c.q=function(a,b){if(c.g!=g){var d=c.g[a];if(d)for(;0<d.length;)c.K(d.shift(),b)}},c.J=function(a,b){var c,d=encodeURIComponent("d_fieldgroup")+"="+encodeURIComponent(b);if(-1===a.indexOf("?"))return a+"?"+d;var e=a.split("?"),f=e[0]+"?",e=e[1].split("&");return e.splice(null!=c?c:1,0,d),f+e.join("&")},c.j=g,c.Ma=function(a,b,d,e){b=c.J(b,a),e.url=c.J(e.url,a),e.k=c.J(e.k,a),e===Object(e)&&e.k&&"XMLHttpRequest"===c.ka.C.D?c.ka.$a(e,d,a):c.useCORSOnly||c.ha(a,b,d)},c.ha=function(a,b,d){var e,h=0,i=0;if(b&&f){for(e=0;!h&&2>e;){try{h=(h=f.getElementsByTagName(e>0?"HEAD":"head"))&&0<h.length?h[0]:0}catch(j){h=0}e++}if(!h)try{f.body&&(h=f.body)}catch(k){h=0}if(h)for(e=0;!i&&2>e;){try{i=f.createElement(e>0?"SCRIPT":"script")}catch(l){i=0}e++}}b&&h&&i?(i.type="text/javascript",i.src=b,h.firstChild?h.insertBefore(i,h.firstChild):h.appendChild(i),h=c.loadTimeout,C.e[a]={requestStart:C.o(),url:b,sa:h,qa:C.va(),ra:0},d&&(c.j==g&&(c.j={}),c.j[a]=setTimeout(function(){d(w)},h)),c.ia.Ca.push(b)):d&&d()},c.Ja=function(a){c.j!=g&&c.j[a]&&(clearTimeout(c.j[a]),c.j[a]=0)},c.fa=j,c.ga=j,c.isAllowed=function(){return!c.fa&&(c.fa=i,c.cookieRead(c.cookieName)||c.cookieWrite(c.cookieName,"T",1))&&(c.ga=i),c.ga},c.b=g,c.d=g;var k=e.Hb;k||(k="MC");var l=e.Mb;l||(l="MCMID");var m=e.Ib;m||(m="MCCIDH");var n=e.Lb;n||(n="MCSYNCS");var o=e.Jb;o||(o="MCIDTS");var p=e.Kb;p||(p="MCOPTOUT");var q=e.Fb;q||(q="A");var r=e.Cb;r||(r="MCAID");var s=e.Gb;s||(s="AAM");var t=e.Eb;t||(t="MCAAMLH");var u=e.Db;u||(u="MCAAMB");var v=e.Nb;v||(v="NONE"),c.M=0,c.da=function(){if(!c.M){var a=c.version;c.audienceManagerServer&&(a+="|"+c.audienceManagerServer),c.audienceManagerServerSecure&&(a+="|"+c.audienceManagerServerSecure),c.M=c.ea(a)}return c.M},c.ja=j,c.f=function(){if(!c.ja){c.ja=i;var a,b,d,e,f=c.da(),h=j,k=c.cookieRead(c.cookieName),l=new Date;if(c.b==g&&(c.b={}),k&&"T"!=k)for(k=k.split("|"),k[0].match(/^[\-0-9]+$/)&&(parseInt(k[0],10)!=f&&(h=i),k.shift()),1==k.length%2&&k.pop(),f=0;f<k.length;f+=2)a=k[f].split("-"),b=a[0],d=k[f+1],1<a.length?(e=parseInt(a[1],10),a=0<a[1].indexOf("s")):(e=0,a=j),h&&(b==m&&(d=""),e>0&&(e=l.getTime()/1e3-60)),b&&d&&(c.c(b,d,1),e>0&&(c.b["expire"+b]=e+(a?"s":""),l.getTime()>=1e3*e||a&&!c.cookieRead(c.sessionCookieName)))&&(c.d||(c.d={}),c.d[b]=i);!c.a(r)&&(k=c.cookieRead("s_vi"))&&(k=k.split("|"),1<k.length&&0<=k[0].indexOf("v1")&&(d=k[1],f=d.indexOf("["),f>=0&&(d=d.substring(0,f)),d&&d.match(/^[0-9a-fA-F\-]+$/)&&c.c(r,d)))}},c.Qa=function(){var a,b,d=c.da();for(a in c.b)!Object.prototype[a]&&c.b[a]&&"expire"!=a.substring(0,6)&&(b=c.b[a],d+=(d?"|":"")+a+(c.b["expire"+a]?"-"+c.b["expire"+a]:"")+"|"+b);c.cookieWrite(c.cookieName,d,1)},c.a=function(a,b){return c.b==g||!b&&c.d&&c.d[a]?g:c.b[a]},c.c=function(a,b,d){c.b==g&&(c.b={}),c.b[a]=b,d||c.Qa()},c.La=function(a,b){var d=c.a(a,b);return d?d.split("*"):g},c.Pa=function(a,b,d){c.c(a,b?b.join("*"):"",d)},c.wb=function(a,b){var d=c.La(a,b);if(d){var e,f={};for(e=0;e<d.length;e+=2)f[d[e]]=d[e+1];return f}return g},c.yb=function(a,b,d){var e,f=g;if(b)for(e in f=[],b)Object.prototype[e]||(f.push(e),f.push(b[e]));c.Pa(a,f,d)},c.m=function(a,b,d){var e=new Date;e.setTime(e.getTime()+1e3*b),c.b==g&&(c.b={}),c.b["expire"+a]=Math.floor(e.getTime()/1e3)+(d?"s":""),0>b?(c.d||(c.d={}),c.d[a]=i):c.d&&(c.d[a]=j),d&&(c.cookieRead(c.sessionCookieName)||c.cookieWrite(c.sessionCookieName,"1"))},c.ca=function(a){return a&&("object"==typeof a&&(a=a.d_mid?a.d_mid:a.visitorID?a.visitorID:a.id?a.id:a.uuid?a.uuid:""+a),a&&(a=a.toUpperCase(),"NOTARGET"==a&&(a=v)),!a||a!=v&&!a.match(/^[0-9a-fA-F\-]+$/))&&(a=""),a},c.i=function(a,b){if(c.Ja(a),c.h!=g&&(c.h[a]=j),C.e[a]&&(C.e[a].nb=C.o(),C.I(a)),a==k){var d=c.a(l);if(!d){if(d="object"==typeof b&&b.mid?b.mid:c.ca(b),!d){if(c.B)return void c.getAnalyticsVisitorID(g,j,i);d=c.v()}c.c(l,d)}d&&d!=v||(d=""),"object"==typeof b&&((b.d_region||b.dcs_region||b.d_blob||b.blob)&&c.i(s,b),c.B&&b.mid&&c.i(q,{id:b.id})),c.q(l,[d])}if(a==s&&"object"==typeof b){d=604800,b.id_sync_ttl!=h&&b.id_sync_ttl&&(d=parseInt(b.id_sync_ttl,10));var e=c.a(t);e||((e=b.d_region)||(e=b.dcs_region),e&&(c.m(t,d),c.c(t,e))),e||(e=""),c.q(t,[e]),e=c.a(u),(b.d_blob||b.blob)&&((e=b.d_blob)||(e=b.blob),c.m(u,d),c.c(u,e)),e||(e=""),c.q(u,[e]),!b.error_msg&&c.z&&c.c(m,c.z)}if(a==q&&(d=c.a(r),d||((d=c.ca(b))?d!==v&&c.m(u,-1):d=v,c.c(r,d)),d&&d!=v||(d=""),c.q(r,[d])),c.idSyncDisableSyncs?B.wa=i:(B.wa=j,d={},d.ibs=b.ibs,d.subdomain=b.subdomain,B.kb(d)),b===Object(b)){var f;c.isAllowed()&&(f=c.a(p)),f||(f=v,b.d_optout&&b.d_optout instanceof Array&&(f=b.d_optout.join(",")),d=parseInt(b.d_ottl,10),isNaN(d)&&(d=7200),c.m(p,d,w),c.c(p,f)),c.q(p,[f])}},c.h=g,c.r=function(a,b,d,e,f){var h,j="";return c.isAllowed()&&(c.f(),j=c.a(a),!j&&(a==l||a==p?h=k:a==t||a==u?h=s:a==r&&(h=q),h))?(!b||c.h!=g&&c.h[h]||(c.h==g&&(c.h={}),c.h[h]=i,c.Ma(h,b,function(b,d){if(!c.a(a))if(C.e[h]&&(C.e[h].timeout=C.o(),C.e[h].eb=!!b,C.I(h)),d!==Object(d)||c.useCORSOnly){var e="";a==l?e=c.v():h==s&&(e={error_msg:"timeout"}),c.i(h,e)}else c.ha(h,d.url,d.G)},f)),c.Oa(a,d),b||c.i(h,{id:v}),""):(a!=l&&a!=r||j!=v||(j="",e=i),d&&e&&c.K(d,[j]),j)},c._setMarketingCloudFields=function(a){c.f(),c.i(k,a)},c.setMarketingCloudVisitorID=function(a){c._setMarketingCloudFields(a)},c.B=j,c.getMarketingCloudVisitorID=function(a,b){if(c.isAllowed()){c.marketingCloudServer&&0>c.marketingCloudServer.indexOf(".demdex.net")&&(c.B=i);var d=c.w("_setMarketingCloudFields");return c.r(l,d.url,a,b,d)}return""},c.Na=function(){c.getAudienceManagerBlob()},e.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},c.u={},c.ba=j,c.z="",c.setCustomerIDs=function(a){if(c.isAllowed()&&a){c.f();var b,d;for(b in a)if(!Object.prototype[b]&&(d=a[b]))if("object"==typeof d){var e={};d.id&&(e.id=d.id),d.authState!=h&&(e.authState=d.authState),c.u[b]=e}else c.u[b]={id:d};var a=c.getCustomerIDs(),e=c.a(m),f="";e||(e=0);for(b in a)Object.prototype[b]||(d=a[b],f+=(f?"|":"")+b+"|"+(d.id?d.id:"")+(d.authState?d.authState:""));c.z=c.ea(f),c.z!=e&&(c.ba=i,c.Na())}},c.getCustomerIDs=function(){c.f();var a,b,d={};for(a in c.u)Object.prototype[a]||(b=c.u[a],d[a]||(d[a]={}),b.id&&(d[a].id=b.id),d[a].authState=b.authState!=h?b.authState:e.AuthState.UNKNOWN);return d},c._setAnalyticsFields=function(a){c.f(),c.i(q,a)},c.setAnalyticsVisitorID=function(a){c._setAnalyticsFields(a)},c.getAnalyticsVisitorID=function(a,b,d){if(c.isAllowed()){var e="";if(d||(e=c.getMarketingCloudVisitorID(function(){c.getAnalyticsVisitorID(a,i)})),e||d){var f=d?c.marketingCloudServer:c.trackingServer,g="";c.loadSSL&&(d?c.marketingCloudServerSecure&&(f=c.marketingCloudServerSecure):c.trackingServerSecure&&(f=c.trackingServerSecure));var h={};if(f){var f="http"+(c.loadSSL?"s":"")+"://"+f+"/id",e="d_visid_ver="+c.version+"&mcorgid="+encodeURIComponent(c.marketingCloudOrgID)+(e?"&mid="+encodeURIComponent(e):"")+(c.idSyncDisable3rdPartySyncing?"&d_coppa=true":""),j=["s_c_il",c._in,"_set"+(d?"MarketingCloud":"Analytics")+"Fields"],g=f+"?"+e+"&callback=s_c_il%5B"+c._in+"%5D._set"+(d?"MarketingCloud":"Analytics")+"Fields";h.k=f+"?"+e,h.oa=j}return h.url=g,c.r(d?l:r,g,a,b,h)}}return""},c._setAudienceManagerFields=function(a){c.f(),c.i(s,a)},c.w=function(a){var b=c.audienceManagerServer,d="",e=c.a(l),f=c.a(u,i),g=c.a(r),g=g&&g!=v?"&d_cid_ic=AVID%01"+encodeURIComponent(g):"";if(c.loadSSL&&c.audienceManagerServerSecure&&(b=c.audienceManagerServerSecure),b){var h,j,d=c.getCustomerIDs();if(d)for(h in d)Object.prototype[h]||(j=d[h],g+="&d_cid_ic="+encodeURIComponent(h)+"%01"+encodeURIComponent(j.id?j.id:"")+(j.authState?"%01"+j.authState:""));return a||(a="_setAudienceManagerFields"),b="http"+(c.loadSSL?"s":"")+"://"+b+"/id",e="d_visid_ver="+c.version+"&d_rtbd=json&d_ver=2"+(!e&&c.B?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(c.marketingCloudOrgID)+"&d_nsid="+(c.idSyncContainerID||0)+(e?"&d_mid="+encodeURIComponent(e):"")+(c.idSyncDisable3rdPartySyncing?"&d_coppa=true":"")+(f?"&d_blob="+encodeURIComponent(f):"")+g,f=["s_c_il",c._in,a],d=b+"?"+e+"&d_cb=s_c_il%5B"+c._in+"%5D."+a,{url:d,k:b+"?"+e,oa:f}}return{url:d}},c.getAudienceManagerLocationHint=function(a,b){if(c.isAllowed()&&c.getMarketingCloudVisitorID(function(){c.getAudienceManagerLocationHint(a,i)})){var d=c.a(r);if(d||(d=c.getAnalyticsVisitorID(function(){c.getAudienceManagerLocationHint(a,i)})),d)return d=c.w(),c.r(t,d.url,a,b,d)}return""},c.getAudienceManagerBlob=function(a,b){if(c.isAllowed()&&c.getMarketingCloudVisitorID(function(){c.getAudienceManagerBlob(a,i)})){var d=c.a(r);if(d||(d=c.getAnalyticsVisitorID(function(){c.getAudienceManagerBlob(a,i)})),d){var d=c.w(),e=d.url;return c.ba&&c.m(u,-1),c.r(u,e,a,b,d)}}return""},c.s="",c.A={},c.N="",c.O={},c.getSupplementalDataID=function(a,b){!c.s&&!b&&(c.s=c.v(1));var d=c.s;return c.N&&!c.O[a]?(d=c.N,c.O[a]=i):d&&(c.A[a]&&(c.N=c.s,c.O=c.A,c.s=d=b?"":c.v(1),c.A={}),d&&(c.A[a]=i)),d},e.OptOut={GLOBAL:"global"},c.getOptOut=function(a,b){if(c.isAllowed()){var d=c.w("_setMarketingCloudFields");return c.r(p,d.url,a,b,d)}return""},c.isOptedOut=function(a,b,d){return c.isAllowed()?(b||(b=e.OptOut.GLOBAL),(d=c.getOptOut(function(d){c.K(a,[d==e.OptOut.GLOBAL||0<=d.indexOf(b)])},d))?d==e.OptOut.GLOBAL||0<=d.indexOf(b):g):j};var y={p:!!d.postMessage,Fa:1,aa:864e5};c.rb=y,c.ma={postMessage:function(a,b,c){var d=1;b&&(y.p?c.postMessage(a,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):b&&(c.location=b.replace(/#.*$/,"")+"#"+ +new Date+d++ +"&"+a))},V:function(a,b){var c;try{y.p&&(a&&(c=function(c){return"string"==typeof b&&c.origin!==b||"[object Function]"===Object.prototype.toString.call(b)&&b(c.origin)===x?x:void a(c)}),window.addEventListener?window[a?"addEventListener":"removeEventListener"]("message",c,x):window[a?"attachEvent":"detachEvent"]("onmessage",c))}catch(d){}}};var z={na:function(){return f.addEventListener?function(a,b,c){a.addEventListener(b,function(a){"function"==typeof c&&c(a)},j)}:f.attachEvent?function(a,b,c){a.attachEvent("on"+b,function(a){"function"==typeof c&&c(a)})}:void 0}(),map:function(a,b){if(Array.prototype.map)return a.map(b);if(void 0===a||a===g)throw new TypeError;var c=Object(a),d=c.length>>>0;if("function"!=typeof b)throw new TypeError;for(var e=Array(d),f=0;d>f;f++)f in c&&(e[f]=b.call(b,c[f],f,c));return e},Za:function(a,b){return this.map(a,function(a){return encodeURIComponent(a)}).join(b)}};c.xb=z;var A={C:function(){var a="none",b=i;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?a="XMLHttpRequest":new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/")()?a="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(b=j),0<Object.prototype.toString.call(window.ob).indexOf("Constructor")&&(b=j)),{D:a,Ab:b}}(),ab:function(){return"none"===this.C.D?g:new window[this.C.D]},$a:function(a,b,d){var e=this;b&&(a.G=b);try{var f=this.ab();f.open("get",a.k+"&ts="+(new Date).getTime(),w),"XMLHttpRequest"===this.C.D&&(f.withCredentials=i,f.timeout=c.loadTimeout,f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.onreadystatechange=function(){if(4===this.readyState&&200===this.status)a:{var b;try{if(b=JSON.parse(this.responseText),b!==Object(b)){e.n(a,null,"Response is not JSON");break a}}catch(c){e.n(a,c,"Error parsing response as JSON");break a}try{for(var d=a.oa,f=window,g=0;g<d.length;g++)f=f[d[g]];f(b)}catch(h){e.n(a,h,"Error forming callback function")}}}),f.onerror=function(b){e.n(a,b,"onerror")},f.ontimeout=function(b){e.n(a,b,"ontimeout")},f.send(),C.e[d]={requestStart:C.o(),url:a.k,sa:f.timeout,qa:C.va(),ra:1},c.ia.Ca.push(a.k)}catch(g){this.n(a,g,"try-catch")}},n:function(a,b,d){c.CORSErrors.push({Bb:a,error:b,description:d}),a.G&&("ontimeout"===d?a.G(w):a.G(x,a))}};c.ka=A;var B={Ha:3e4,$:649,Ea:j,id:g,S:g,ua:function(a){return"string"==typeof a?(a=a.split("/"),a[0]+"//"+a[2]):void 0},l:g,url:g,bb:function(){var a="http://fast.",b="?d_nsid="+c.idSyncContainerID+"#"+encodeURIComponent(f.location.href);return this.l||(this.l="nosubdomainreturned"),c.loadSSL&&(a=c.idSyncSSLUseAkamai?"https://fast.":"https://"),a=a+this.l+".demdex.net/dest5.html"+b,this.S=this.ua(a),this.id="destination_publishing_iframe_"+this.l+"_"+c.idSyncContainerID,a},Ta:function(){var a="?d_nsid="+c.idSyncContainerID+"#"+encodeURIComponent(f.location.href);"string"==typeof c.L&&c.L.length&&(this.id="destination_publishing_iframe_"+(new Date).getTime()+"_"+c.idSyncContainerID,this.S=this.ua(c.L),this.url=c.L+a)},wa:g,ta:j,X:j,F:g,Ob:g,jb:g,Pb:g,W:j,H:[],hb:[],ib:[],ya:y.p?15:100,T:[],fb:[],pa:i,Ba:j,Aa:function(){return!c.idSyncDisable3rdPartySyncing&&(this.ta||c.tb)&&this.l&&"nosubdomainreturned"!==this.l&&this.url&&!this.X},Q:function(){function a(){d=document.createElement("iframe"),d.sandbox="allow-scripts allow-same-origin",d.title="Adobe ID Syncing iFrame",d.id=c.id,d.style.cssText="display: none; width: 0; height: 0;",d.src=c.url,c.jb=i,b(),document.body.appendChild(d)}function b(){z.na(d,"load",function(){d.className="aamIframeLoaded",c.F=i,c.t()})}this.X=i;var c=this,d=document.getElementById(this.id);d?"IFRAME"!==d.nodeName?(this.id+="_2",a()):"aamIframeLoaded"!==d.className?b():(this.F=i,this.xa=d,this.t()):a(),this.xa=d},t:function(a){var b=this;a===Object(a)&&this.T.push(a),(this.Ba||!y.p||this.F)&&this.T.length&&(this.I(this.T.shift()),this.t()),!c.idSyncDisableSyncs&&this.F&&this.H.length&&!this.W&&(this.Ea||(this.Ea=i,setTimeout(function(){b.ya=y.p?15:150},this.Ha)),this.W=i,this.Da())},I:function(a){var b,c,d,e,f,g=encodeURIComponent;if((b=a.ibs)&&b instanceof Array&&(c=b.length))for(d=0;c>d;d++)e=b[d],f=[g("ibs"),g(e.id||""),g(e.tag||""),z.Za(e.url||[],","),g(e.ttl||""),"","",e.fireURLSync?"true":"false"],this.pa?this.P(f.join("|")):e.fireURLSync&&this.Ua(e,f.join("|"));this.fb.push(a)},Ua:function(a,b){c.f();var d=c.a(n),e=j,f=j,g=Math.ceil((new Date).getTime()/y.aa);d?(d=d.split("*"),f=this.lb(d,a.id,g),e=f.Xa,f=f.Ya,e&&f||(this.P(b),d.push(a.id+"-"+(g+Math.ceil(a.ttl/60/24))),this.gb(d),c.c(n,d.join("*")))):(this.P(b),c.c(n,a.id+"-"+(g+Math.ceil(a.ttl/60/24))))},lb:function(a,b,c){var d,e,f,g=j,h=j;for(e=0;e<a.length;e++)d=a[e],f=parseInt(d.split("-")[1],10),d.match("^"+b+"-")?(g=i,f>c?h=i:(a.splice(e,1),e--)):c>=f&&(a.splice(e,1),e--);return{Xa:g,Ya:h}},gb:function(a){if(a.join("*").length>this.$)for(a.sort(function(a,b){return parseInt(a.split("-")[1],10)-parseInt(b.split("-")[1],10)});a.join("*").length>this.$;)a.shift()},P:function(a){var b=encodeURIComponent;this.H.push(b(c.ub?"---destpub-debug---":"---destpub---")+a)},Da:function(){var a,b=this;this.H.length?(a=this.H.shift(),c.ma.postMessage(a,this.url,this.xa.contentWindow),this.hb.push(a),setTimeout(function(){b.Da()},this.ya)):this.W=j},V:function(a){var b=/^---destpub-to-parent---/;"string"==typeof a&&b.test(a)&&(b=a.replace(b,"").split("|"),"canSetThirdPartyCookies"===b[0]&&(this.pa="true"===b[1]?i:j,this.Ba=i,this.t()),this.ib.push(a))},kb:function(a){this.url===g&&(this.l="string"==typeof c.la&&c.la.length?c.la:a.subdomain||"",this.url=this.bb()),a.ibs instanceof Array&&a.ibs.length&&(this.ta=i),this.Aa()&&(c.idSyncAttachIframeASAP?this.Ra():(e.Z||"complete"===f.readyState||"loaded"===f.readyState)&&this.Q()),"function"==typeof c.idSyncIDCallResult?c.idSyncIDCallResult(a):this.t(a),"function"==typeof c.idSyncAfterIDCallResult&&c.idSyncAfterIDCallResult(a)},Sa:function(a,b){return c.vb||!a||b-a>y.Fa},Ra:function(){function a(){b.X||(document.body?b.Q():setTimeout(a,30))}var b=this;a()}};c.sb=B,c.timeoutMetricsLog=[];var C={Wa:window.performance&&window.performance.timing?1:0,za:window.performance&&window.performance.timing?window.performance.timing:g,Y:g,R:g,e:{},U:[],send:function(a){if(c.takeTimeoutMetrics&&a===Object(a)){var b,d=[],e=encodeURIComponent;for(b in a)a.hasOwnProperty(b)&&d.push(e(b)+"="+e(a[b]));a="http"+(c.loadSSL?"s":"")+"://dpm.demdex.net/event?d_visid_ver="+c.version+"&d_visid_stg_timeout="+c.loadTimeout+"&"+d.join("&")+"&d_orgid="+e(c.marketingCloudOrgID)+"&d_timingapi="+this.Wa+"&d_winload="+this.cb()+"&d_ld="+this.o(),(new Image).src=a,c.timeoutMetricsLog.push(a)}},cb:function(){return this.R===g&&(this.R=this.za?this.Y-this.za.navigationStart:this.Y-e.Va),this.R},o:function(){return(new Date).getTime()},I:function(a){var b=this.e[a],c={};c.d_visid_stg_timeout_captured=b.sa,c.d_visid_cors=b.ra,c.d_fieldgroup=a,c.d_settimeout_overriden=b.qa,b.timeout?b.eb?(c.d_visid_timedout=1,c.d_visid_timeout=b.timeout-b.requestStart,c.d_visid_response=-1):(c.d_visid_timedout="n/a",c.d_visid_timeout="n/a",c.d_visid_response="n/a"):(c.d_visid_timedout=0,c.d_visid_timeout=-1,c.d_visid_response=b.nb-b.requestStart),c.d_visid_url=b.url,e.Z?this.send(c):this.U.push(c),delete this.e[a]},mb:function(){for(var a=0,b=this.U.length;b>a;a++)this.send(this.U[a])},va:function(){return"function"==typeof setTimeout.toString?-1<setTimeout.toString().indexOf("[native code]")?0:1:-1}};if(c.zb=C,0>a.indexOf("@")&&(a+="@AdobeOrg"),c.marketingCloudOrgID=a,c.cookieName="AMCV_"+a,c.sessionCookieName="AMCVS_"+a,c.cookieDomain=c.Ka(),c.cookieDomain==d.location.hostname&&(c.cookieDomain=""),c.loadSSL=0<=d.location.protocol.toLowerCase().indexOf("https"),c.loadTimeout=3e4,c.CORSErrors=[],c.marketingCloudServer=c.audienceManagerServer="dpm.demdex.net",b&&"object"==typeof b){for(var D in b)!Object.prototype[D]&&(c[D]=b[D]);c.idSyncContainerID=c.idSyncContainerID||0,c.f(),A=c.a(o),D=Math.ceil((new Date).getTime()/y.aa),!c.idSyncDisableSyncs&&B.Sa(A,D)&&(c.m(u,-1),c.c(o,D)),c.getMarketingCloudVisitorID(),c.getAudienceManagerLocationHint(),c.getAudienceManagerBlob()}if(!c.idSyncDisableSyncs){B.Ta(),z.na(window,"load",function(){e.Z=i,C.Y=C.o(),C.mb();var a=B;a.Aa()&&a.Q()});try{c.ma.V(function(a){B.V(a.data)},B.S)}catch(E){}}}function b(a){a.tnt=a.trackTNT(),m&&(a.prop60=m),a.channelManager("eid,gclid,utm_campaign"),"Natural Search"==a._channel&&(a.eVar29='D="'+a._keywords+':"+pageName'),a.eVar29&&(a.prop29="D=v29"),a.campaign=a.campaign||a.Util.getQueryParam("exid"),a.eVar31=a.Util.getQueryParam("pid"),!a.eVar32&&a.campaign&&(a.eVar32=a.crossVisitParticipation(a.campaign,"s_exstk","90","5"," > ","","0"));var b="";b+=a.eVar30?a.eVar30:a.eVar31?a.eVar31:a.campaign?a.campaign:"",!a.eVar33&&b.length>0&&(a.eVar33=a.crossVisitParticipation(b,"s_cobstk","90","10"," > ","","0")),a.eVar24=a.getNewRepeat(),a.prop24="D=v24",a.prop30=a.getDaysSinceLastVisit("s_gdslv"),a.prop31=a.getPreviousValue(a.pageName,"s_ppn");var c=a.getPercentPageViewed(a.pageName);c&&c[0]&&c[0]==a.prop31&&(a.prop32=c[1]+"|"+c[2]),a.eVar22=a.getTimeParting("s","+10"),a.prop22="D=v22",p.disable_pageview&&!n&&(a.linkType?a.abort=!1:a.abort=!0),p.analytics_disable_urls&&p.analytics_disable_urls.test(location.hostname)&&(a.abort=!0),p.os_android&&a.sa("newscorpau-app-mx-android"+k);try{if("boolean"==typeof _vis_opt_settings_loaded){var d=_vis_opt_readCookie("_vis_opt_exp_"+_vis_opt_experiment_id+"_combi");"undefined"!=typeof _vwo_exp[_vis_opt_experiment_id].combination_chosen&&(d=_vwo_exp[_vis_opt_experiment_id].combination_chosen),"undefined"!=typeof _vis_opt_comb_name[d]&&(a.eVar51=_vis_opt_experiment_id+":"+_vis_opt_comb_name[d],a.prop51="D=v51")}}catch(e){}}function c(a){function b(a,b){var c,d,e;if(a&&b&&(c=g.c[b]||(g.c[b]=b.split(","))))for(e=0;e<c.length&&(d=c[e++]);)if(-1<a.indexOf(d))return null;return i=1,a}function c(b,c,d,e,f){var g,h;if(b.dataset&&(h=b.dataset[c])?g=h:b.getAttribute&&((h=b.getAttribute("data-"+d))?g=h:(h=b.getAttribute(d))&&(g=h)),!g&&a.useForcedLinkTracking&&f&&(g="",c=b.onclick?""+b.onclick:"")){d=c.indexOf(e);var i,j;if(d>=0){for(d+=10;d<c.length&&0<="= 	\r\n".indexOf(c.charAt(d));)d++;if(d<c.length){for(h=d,i=j=0;h<c.length&&(";"!=c.charAt(h)||i);)i?c.charAt(h)!=i||j?j="\\"==c.charAt(h)?!j:0:i=0:(i=c.charAt(h),'"'!=i&&"'"!=i&&(i=0)),h++;(c=c.substring(d,h))&&(b.e=new Function("s","var e;try{s.w."+e+"="+c+"}catch(e){}"),b.e(a))}}}return g||f&&a.w[e]}function d(a,c,d){var e;return(e=g[c](a,d))&&(i?(i=0,e):b(f(e),g[c+"Exclusions"]))}function e(a,b,c){var d;if(a&&!(1===(d=a.nodeType)&&(d=a.nodeName)&&(d=d.toUpperCase())&&j[d])&&(1===a.nodeType&&(d=a.nodeValue)&&(b[b.length]=d),c.a||c.t||c.s||!a.getAttribute||((d=a.getAttribute("alt"))?c.a=d:(d=a.getAttribute("title"))?c.t=d:"IMG"==(""+a.nodeName).toUpperCase()&&(d=a.getAttribute("src")||a.src)&&(c.s=d)),(d=a.childNodes)&&d.length))for(a=0;a<d.length;a++)e(d[a],b,c)}function f(a){if(null==a||void 0==a)return a;try{return a.replace(RegExp("^[\\s\\n\\f\\r\\t	-\r   ᠎ - \u2028\u2029 　\ufeff]+","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t	-\r   ᠎ - \u2028\u2029 　\ufeff]+$","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t	-\r   ᠎ - \u2028\u2029 　\ufeff]{1,}","mg")," ").substring(0,254)}catch(b){}}var g=this;g.s=a;var h=window;h.s_c_in||(h.s_c_il=[],h.s_c_in=0),g._il=h.s_c_il,g._in=h.s_c_in,g._il[g._in]=g,h.s_c_in++,g._c="s_m",g.c={};var i=0,j={SCRIPT:1,STYLE:1,LINK:1,CANVAS:1};g._g=function(){var b,c,e,f=a.contextData,g=a.linkObject;(b=a.pageName||a.pageURL)&&(c=d(g,"link",a.linkName))&&(e=d(g,"region"))&&(f["a.activitymap.page"]=b.substring(0,255),f["a.activitymap.link"]=128<c.length?c.substring(0,128):c,f["a.activitymap.region"]=127<e.length?e.substring(0,127):e,f["a.activitymap.pageIDType"]=a.pageName?1:0)},g.link=function(a,d){var h;if(d)h=b(f(d),g.linkExclusions);else if((h=a)&&!(h=c(a,"sObjectId","s-object-id","s_objectID",1))){var i,j;(j=b(f(a.innerText||a.textContent),g.linkExclusions))||(e(a,i=[],h={a:void 0,t:void 0,s:void 0}),(j=b(f(i.join(""))))||(j=b(f(h.a?h.a:h.t?h.t:h.s?h.s:void 0)))||!(i=(i=a.tagName)&&i.toUpperCase?i.toUpperCase():"")||("INPUT"==i||"SUBMIT"==i&&a.value?j=b(f(a.value)):"IMAGE"==i&&a.src&&(j=b(f(a.src))))),h=j}return h},g.region=function(a){for(var b,d=g.regionIDAttribute||"id";a&&(a=a.parentNode);){if(b=c(a,d,d,d))return b;if("BODY"==a.nodeName)return"BODY"}}}function d(){var a=this;a.version="1.6.2";var b=window;b.s_c_in||(b.s_c_il=[],b.s_c_in=0),a._il=b.s_c_il,a._in=b.s_c_in,a._il[a._in]=a,b.s_c_in++,a._c="s_c";var c=b.AppMeasurement.Ib;c||(c=null);var d,e,f=b;try{for(d=f.parent,e=f.location;d&&d.location&&e&&""+d.location!=""+e&&f.location&&""+d.location!=""+f.location&&d.location.host==e.host;)f=d,d=f.parent}catch(g){}a.xb=function(a){try{console.log(a)}catch(b){}},a.Ga=function(a){return""+parseInt(a)==""+a},a.replace=function(a,b,c){return!a||0>a.indexOf(b)?a:a.split(b).join(c)},a.escape=function(b){var c,d;if(!b)return b;for(b=encodeURIComponent(b),c=0;7>c;c++)d="+~!*()'".substring(c,c+1),0<=b.indexOf(d)&&(b=a.replace(b,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return b},a.unescape=function(b){if(!b)return b;b=0<=b.indexOf("+")?a.replace(b,"+"," "):b;try{return decodeURIComponent(b)}catch(c){}return unescape(b)},a.ob=function(){var c,d=b.location.hostname,e=a.fpCookieDomainPeriods;if(e||(e=a.cookieDomainPeriods),d&&!a.cookieDomain&&!/^[0-9.]+$/.test(d)&&(e=e?parseInt(e):2,e=e>2?e:2,c=d.lastIndexOf("."),c>=0)){for(;c>=0&&e>1;)c=d.lastIndexOf(".",c-1),e--;a.cookieDomain=c>0?d.substring(c):d}return a.cookieDomain},a.c_r=a.cookieRead=function(b){b=a.escape(b);var c=" "+a.d.cookie,d=c.indexOf(" "+b+"="),e=0>d?d:c.indexOf(";",d);return b=0>d?"":a.unescape(c.substring(d+2+b.length,0>e?c.length:e)),"[[B]]"!=b?b:""},a.c_w=a.cookieWrite=function(b,c,d){var e,f=a.ob(),g=a.cookieLifetime;return c=""+c,g=g?(""+g).toUpperCase():"",d&&"SESSION"!=g&&"NONE"!=g&&((e=""!=c?parseInt(g?g:0):-60)?(d=new Date,d.setTime(d.getTime()+1e3*e)):1==d&&(d=new Date,e=d.getYear(),d.setYear(e+5+(1900>e?1900:0)))),b&&"NONE"!=g?(a.d.cookie=b+"="+a.escape(""!=c?c:"[[B]]")+"; path=/;"+(d&&"SESSION"!=g?" expires="+d.toGMTString()+";":"")+(f?" domain="+f+";":""),a.cookieRead(b)==c):0},a.J=[],a.ga=function(b,c,d){if(a.za)return 0;a.maxDelay||(a.maxDelay=250);var e=0,f=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,h=["webkitvisibilitychange","visibilitychange"];if(g||(g=a.d.webkitVisibilityState),g&&"prerender"==g){if(!a.ha)for(a.ha=1,d=0;d<h.length;d++)a.d.addEventListener(h[d],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState),"visible"==b&&(a.ha=0,a.delayReady())});e=1,f=0}else d||a.p("_d")&&(e=1);return e&&(a.J.push({m:b,a:c,t:f}),a.ha||setTimeout(a.delayReady,a.maxDelay)),e},a.delayReady=function(){var b,c=(new Date).getTime(),d=0;for(a.p("_d")?d=1:a.ua();0<a.J.length;){if(b=a.J.shift(),d&&!b.t&&b.t>c){a.J.unshift(b),setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.za=1,a[b.m].apply(a,b.a),a.za=0}},a.setAccount=a.sa=function(b){var c,d;if(!a.ga("setAccount",arguments))if(a.account=b,a.allAccounts)for(c=a.allAccounts.concat(b.split(",")),a.allAccounts=[],c.sort(),d=0;d<c.length;d++)0!=d&&c[d-1]==c[d]||a.allAccounts.push(c[d]);else a.allAccounts=b.split(",")},a.foreachVar=function(b,c){var d,e,f,g,h="";for(f=e="",a.lightProfileID?(d=a.N,(h=a.lightTrackVars)&&(h=","+h+","+a.la.join(",")+",")):(d=a.g,(a.pe||a.linkType)&&(h=a.linkTrackVars,e=a.linkTrackEvents,a.pe&&(f=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[f]&&(h=a[f].Gb,e=a[f].Fb))),h&&(h=","+h+","+a.F.join(",")+","),e&&h&&(h+=",events,")),c&&(c=","+c+","),e=0;e<d.length;e++)f=d[e],(g=a[f])&&(!h||0<=h.indexOf(","+f+","))&&(!c||0<=c.indexOf(","+f+","))&&b(f,g)},a.r=function(b,c,d,e,f){var g,h,i,j,k="",l=0;if("contextData"==b&&(b="c"),c){for(g in c)if(!(Object.prototype[g]||f&&g.substring(0,f.length)!=f)&&c[g]&&(!d||0<=d.indexOf(","+(e?e+".":"")+g+","))){if(i=!1,l)for(h=0;h<l.length;h++)g.substring(0,l[h].length)==l[h]&&(i=!0);if(!i&&(""==k&&(k+="&"+b+"."),h=c[g],f&&(g=g.substring(f.length)),0<g.length))if(i=g.indexOf("."),i>0)h=g.substring(0,i),i=(f?f:"")+h+".",l||(l=[]),l.push(i),k+=a.r(h,c,d,e,i);else if("boolean"==typeof h&&(h=h?"true":"false"),h){if("retrieveLightData"==e&&0>f.indexOf(".contextData."))switch(i=g.substring(0,4),j=g.substring(4),g){case"transactionID":g="xact";break;case"channel":g="ch";break;case"campaign":g="v0";break;default:a.Ga(j)&&("prop"==i?g="c"+j:"eVar"==i?g="v"+j:"list"==i?g="l"+j:"hier"==i&&(g="h"+j,h=h.substring(0,255)))}k+="&"+a.escape(g)+"="+a.escape(h)}}""!=k&&(k+="&."+b)}return k},a.usePostbacks=0,a.rb=function(){var b,d,e,f,g,h,i,j,k="",l="",m="",n=f="";if(a.lightProfileID?(b=a.N,(l=a.lightTrackVars)&&(l=","+l+","+a.la.join(",")+",")):(b=a.g,(a.pe||a.linkType)&&(l=a.linkTrackVars,m=a.linkTrackEvents,a.pe&&(f=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[f]&&(l=a[f].Gb,m=a[f].Fb))),l&&(l=","+l+","+a.F.join(",")+","),m&&(m=","+m+",",l&&(l+=",events,")),a.events2&&(n+=(""!=n?",":"")+a.events2)),a.visitor&&1.5<=parseFloat(a.visitor.version)&&a.visitor.getCustomerIDs){if(f=c,g=a.visitor.getCustomerIDs())for(d in g)Object.prototype[d]||(e=g[d],f||(f={}),e.id&&(f[d+".id"]=e.id),e.authState&&(f[d+".as"]=e.authState));f&&(k+=a.r("cid",f))}for(a.AudienceManagement&&a.AudienceManagement.isReady()&&(k+=a.r("d",a.AudienceManagement.getEventCallConfigParams())),d=0;d<b.length;d++){if(f=b[d],g=a[f],e=f.substring(0,4),h=f.substring(4),!g&&"events"==f&&n&&(g=n,n=""),g&&(!l||0<=l.indexOf(","+f+","))){switch(f){case"supplementalDataID":f="sdid";break;case"timestamp":f="ts";break;case"dynamicVariablePrefix":f="D";break;case"visitorID":f="vid";break;case"marketingCloudVisitorID":f="mid";break;case"analyticsVisitorID":f="aid";break;case"audienceManagerLocationHint":f="aamlh";break;case"audienceManagerBlob":f="aamb";break;case"authState":f="as";break;case"pageURL":f="g",255<g.length&&(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case"pageURLRest":f="-g";break;case"referrer":f="r";break;case"vmk":case"visitorMigrationKey":f="vmt";break;case"visitorMigrationServer":f="vmf",a.ssl&&a.visitorMigrationServerSecure&&(g="");break;case"visitorMigrationServerSecure":f="vmf",!a.ssl&&a.visitorMigrationServer&&(g="");break;case"charSet":f="ce";break;case"visitorNamespace":f="ns";break;case"cookieDomainPeriods":f="cdp";break;case"cookieLifetime":f="cl";break;case"variableProvider":f="vvp";break;case"currencyCode":f="cc";break;case"channel":f="ch";break;case"transactionID":f="xact";break;case"campaign":f="v0";break;case"latitude":f="lat";break;case"longitude":f="lon";break;case"resolution":f="s";break;case"colorDepth":f="c";break;case"javascriptVersion":f="j";break;case"javaEnabled":f="v";break;case"cookiesEnabled":f="k";break;case"browserWidth":f="bw";break;case"browserHeight":f="bh";break;case"connectionType":f="ct";break;case"homepage":f="hp";break;case"events":if(n&&(g+=(""!=g?",":"")+n),m)for(h=g.split(","),g="",e=0;e<h.length;e++)i=h[e],j=i.indexOf("="),j>=0&&(i=i.substring(0,j)),j=i.indexOf(":"),j>=0&&(i=i.substring(0,j)),0<=m.indexOf(","+i+",")&&(g+=(g?",":"")+h[e]);break;case"events2":g="";break;case"contextData":k+=a.r("c",a[f],l,f),g="";break;case"lightProfileID":f="mtp";break;case"lightStoreForSeconds":f="mtss",a.lightProfileID||(g="");break;case"lightIncrementBy":f="mti",a.lightProfileID||(g="");break;case"retrieveLightProfiles":f="mtsr";break;case"deleteLightProfiles":f="mtsd";break;case"retrieveLightData":a.retrieveLightProfiles&&(k+=a.r("mts",a[f],l,f)),g="";break;default:a.Ga(h)&&("prop"==e?f="c"+h:"eVar"==e?f="v"+h:"list"==e?f="l"+h:"hier"==e&&(f="h"+h,g=g.substring(0,255)))}g&&(k+="&"+f+"="+("pev"!=f.substring(0,3)?a.escape(g):g))}"pev3"==f&&a.e&&(k+=a.e)}return k},a.D=function(a){var b=a.tagName;return"undefined"!=""+a.Lb||"undefined"!=""+a.Bb&&"HTML"!=(""+a.Bb).toUpperCase()?"":(b=b&&b.toUpperCase?b.toUpperCase():"",
"SHAPE"==b&&(b=""),b&&(("INPUT"==b||"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A")),b)},a.Ca=function(a){var b,c,d,e=a.href?a.href:"";return b=e.indexOf(":"),c=e.indexOf("?"),d=e.indexOf("/"),e&&(0>b||c>=0&&b>c||d>=0&&b>d)&&(c=a.protocol&&1<a.protocol.length?a.protocol:l.protocol?l.protocol:"",b=l.pathname.lastIndexOf("/"),e=(c?c+"//":"")+(a.host?a.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,0>b?0:b)+"/":"")+e),e},a.K=function(b){var c,d,e=a.D(b),f="",g=0;return e&&(c=b.protocol,d=b.onclick,!b.href||"A"!=e&&"AREA"!=e||d&&c&&!(0>c.toLowerCase().indexOf("javascript"))?d?(f=a.replace(a.replace(a.replace(a.replace(""+d,"\r",""),"\n",""),"	","")," ",""),g=2):"INPUT"==e||"SUBMIT"==e?(b.value?f=b.value:b.innerText?f=b.innerText:b.textContent&&(f=b.textContent),g=3):"IMAGE"==e&&b.src&&(f=b.src):f=a.Ca(b),f)?{id:f.substring(0,100),type:g}:0},a.Jb=function(b){for(var c=a.D(b),d=a.K(b);b&&!d&&"BODY"!=c;)(b=b.parentElement?b.parentElement:b.parentNode)&&(c=a.D(b),d=a.K(b));return d&&"BODY"!=c||(b=0),b&&(c=b.onclick?""+b.onclick:"",0<=c.indexOf(".tl(")||0<=c.indexOf(".trackLink("))&&(b=0),b},a.Ab=function(){var c,d,e,f,g=a.linkObject,h=a.linkType,i=a.linkURL;if(a.ma=1,g||(a.ma=0,g=a.clickObject),g){for(c=a.D(g),d=a.K(g);g&&!d&&"BODY"!=c;)(g=g.parentElement?g.parentElement:g.parentNode)&&(c=a.D(g),d=a.K(g));if(d&&"BODY"!=c||(g=0),g&&!a.linkObject){var j=g.onclick?""+g.onclick:"";(0<=j.indexOf(".tl(")||0<=j.indexOf(".trackLink("))&&(g=0)}}else a.ma=1;if(!i&&g&&(i=a.Ca(g)),i&&!a.linkLeaveQueryString&&(e=i.indexOf("?"),e>=0&&(i=i.substring(0,e))),!h&&i){var k,l=0,m=0;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)for(j=i.toLowerCase(),e=j.indexOf("?"),f=j.indexOf("#"),e>=0?f>=0&&e>f&&(e=f):e=f,e>=0&&(j=j.substring(0,e)),e=a.linkDownloadFileTypes.toLowerCase().split(","),f=0;f<e.length;f++)(k=e[f])&&j.substring(j.length-(k.length+1))=="."+k&&(h="d");if(a.trackExternalLinks&&!h&&(j=i.toLowerCase(),a.Fa(j)&&(a.linkInternalFilters||(a.linkInternalFilters=b.location.hostname),e=0,a.linkExternalFilters?(e=a.linkExternalFilters.toLowerCase().split(","),l=1):a.linkInternalFilters&&(e=a.linkInternalFilters.toLowerCase().split(",")),e))){for(f=0;f<e.length;f++)k=e[f],0<=j.indexOf(k)&&(m=1);m?l&&(h="e"):l||(h="e")}}a.linkObject=g,a.linkURL=i,a.linkType=h,(a.trackClickMap||a.trackInlineStats)&&(a.e="",g&&(h=a.pageName,i=1,g=g.sourceIndex,h||(h=a.pageURL,i=0),b.s_objectID&&(d.id=b.s_objectID,g=d.type=1),h&&d&&d.id&&c&&(a.e="&pid="+a.escape(h.substring(0,255))+(i?"&pidt="+i:"")+"&oid="+a.escape(d.id.substring(0,100))+(d.type?"&oidt="+d.type:"")+"&ot="+c+(g?"&oi="+g:""))))},a.sb=function(){var b=a.ma,c=a.linkType,d=a.linkURL,e=a.linkName;if(c&&(d||e)&&(c=c.toLowerCase(),"d"!=c&&"e"!=c&&(c="o"),a.pe="lnk_"+c,a.pev1=d?a.escape(d):"",a.pev2=e?a.escape(e):"",b=1),a.abort&&(b=0),a.trackClickMap||a.trackInlineStats||a.ActivityMap){var f,g,h,c={},d=0,i=a.cookieRead("s_sq"),j=i?i.split("&"):0,i=0;if(j)for(f=0;f<j.length;f++)g=j[f].split("="),e=a.unescape(g[0]).split(","),g=a.unescape(g[1]),c[g]=e;e=a.account.split(","),f={};for(h in a.contextData)h&&!Object.prototype[h]&&"a.activitymap."==h.substring(0,14)&&(f[h]=a.contextData[h],a.contextData[h]="");if(a.e=a.r("c",f)+(a.e?a.e:""),b||a.e){b&&!a.e&&(i=1);for(g in c)if(!Object.prototype[g])for(h=0;h<e.length;h++)for(i&&(j=c[g].join(","),j==a.account&&(a.e+=("&"!=g.charAt(0)?"&":"")+g,c[g]=[],d=1)),f=0;f<c[g].length;f++)j=c[g][f],j==e[h]&&(i&&(a.e+="&u="+a.escape(j)+("&"!=g.charAt(0)?"&":"")+g+"&u=0"),c[g].splice(f,1),d=1);if(b||(d=1),d){i="",f=2,!b&&a.e&&(i=a.escape(e.join(","))+"="+a.escape(a.e),f=1);for(g in c)!Object.prototype[g]&&f>0&&0<c[g].length&&(i+=(i?"&":"")+a.escape(c[g].join(","))+"="+a.escape(g),f--);a.cookieWrite("s_sq",i)}}}return b},a.tb=function(){if(!a.Eb){var b,c,d=new Date,e=f.location,g=c=b="",h="",i="",j="1.2",k=a.cookieWrite("s_cc","true",0)?"Y":"N",l="",m="";if(d.setUTCDate&&(j="1.3",0..toPrecision&&(j="1.5",d=[],d.forEach))){j="1.6",c=0,b={};try{c=new Iterator(b),c.next&&(j="1.7",d.reduce&&(j="1.8",j.trim&&(j="1.8.1",Date.parse&&(j="1.8.2",Object.create&&(j="1.8.5")))))}catch(n){}}b=screen.width+"x"+screen.height,g=navigator.javaEnabled()?"Y":"N",c=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,h=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth,i=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;try{a.b.addBehavior("#default#homePage"),l=a.b.Kb(e)?"Y":"N"}catch(o){}try{a.b.addBehavior("#default#clientCaps"),m=a.b.connectionType}catch(p){}a.resolution=b,a.colorDepth=c,a.javascriptVersion=j,a.javaEnabled=g,a.cookiesEnabled=k,a.browserWidth=h,a.browserHeight=i,a.connectionType=m,a.homepage=l,a.Eb=1}},a.O={},a.loadModule=function(c,d){var e=a.O[c];if(!e){e=b["AppMeasurement_Module_"+c]?new b["AppMeasurement_Module_"+c](a):{},a.O[c]=a[c]=e,e.Wa=function(){return e.$a},e.ab=function(b){(e.$a=b)&&(a[c+"_onLoad"]=b,a.ga(c+"_onLoad",[a,e],1)||b(a,e))};try{Object.defineProperty?Object.defineProperty(e,"onLoad",{get:e.Wa,set:e.ab}):e._olc=1}catch(f){e._olc=1}}d&&(a[c+"_onLoad"]=d,a.ga(c+"_onLoad",[a,e],1)||d(a,e))},a.p=function(b){var c,d;for(c in a.O)if(!Object.prototype[c]&&(d=a.O[c])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[b]&&d[b]()))return 1;return 0},a.vb=function(){var b=Math.floor(1e13*Math.random()),c=a.visitorSampling,d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),e=a.cookieRead(d);if(c){if(e&&(e=parseInt(e)),!e){if(!a.cookieWrite(d,b))return 0;e=b}if(e%1e4>v)return 0}return 1},a.P=function(b,c){var d,e,f,g,h,i;for(d=0;2>d;d++)for(e=d>0?a.va:a.g,f=0;f<e.length;f++)if(g=e[f],(h=b[g])||b["!"+g]){if(!c&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(i in a[g])h[i]||(h[i]=a[g][i]);a[g]=h}},a.Pa=function(b,c){var d,e,f,g;for(d=0;2>d;d++)for(e=d>0?a.va:a.g,f=0;f<e.length;f++)g=e[f],b[g]=a[g],c||b[g]||(b["!"+g]=1)},a.nb=function(a){var b,c,d,e,f,g,h=0,i="",j="";if(a&&255<a.length&&(b=""+a,c=b.indexOf("?"),c>0&&(g=b.substring(c+1),b=b.substring(0,c),e=b.toLowerCase(),d=0,"http://"==e.substring(0,7)?d+=7:"https://"==e.substring(0,8)&&(d+=8),c=e.indexOf("/",d),c>0&&(e=e.substring(d,c),f=b.substring(c),b=b.substring(0,c),0<=e.indexOf("google")?h=",q,ie,start,search_key,word,kw,cd,":0<=e.indexOf("yahoo.co")&&(h=",p,ei,"),h&&g)))){if((a=g.split("&"))&&1<a.length){for(d=0;d<a.length;d++)e=a[d],c=e.indexOf("="),c>0&&0<=h.indexOf(","+e.substring(0,c)+",")?i+=(i?"&":"")+e:j+=(j?"&":"")+e;i&&j?g=i+"&"+j:j=""}c=253-(g.length-j.length)-b.length,a=b+(c>0?f.substring(0,c):"")+"?"+g}return a},a.Va=function(b){var c=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];if(c||(c=a.d.webkitVisibilityState),c&&"prerender"==c){if(b)for(c=0;c<d.length;c++)a.d.addEventListener(d[c],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState),"visible"==c&&b()});return!1}return!0},a.ca=!1,a.H=!1,a.cb=function(){a.H=!0,a.j()},a.aa=!1,a.T=!1,a.Za=function(b){a.marketingCloudVisitorID=b,a.T=!0,a.j()},a.da=!1,a.U=!1,a.eb=function(b){a.visitorOptedOut=b,a.U=!0,a.j()},a.X=!1,a.Q=!1,a.Ra=function(b){a.analyticsVisitorID=b,a.Q=!0,a.j()},a.Z=!1,a.S=!1,a.Ta=function(b){a.audienceManagerLocationHint=b,a.S=!0,a.j()},a.Y=!1,a.R=!1,a.Sa=function(b){a.audienceManagerBlob=b,a.R=!0,a.j()},a.Ua=function(b){return a.maxDelay||(a.maxDelay=250),a.p("_d")?(b&&setTimeout(function(){b()},a.maxDelay),!1):!0},a.ba=!1,a.G=!1,a.ua=function(){a.G=!0,a.j()},a.isReadyToTrack=function(){var b,d,e,f=!0,g=a.visitor;return a.ca||a.H||(a.Va(a.cb)?a.H=!0:a.ca=!0),a.ca&&!a.H?!1:(g&&g.isAllowed()&&(a.aa||a.marketingCloudVisitorID||!g.getMarketingCloudVisitorID||(a.aa=!0,a.marketingCloudVisitorID=g.getMarketingCloudVisitorID([a,a.Za]),a.marketingCloudVisitorID&&(a.T=!0)),a.da||a.visitorOptedOut||!g.isOptedOut||(a.da=!0,a.visitorOptedOut=g.isOptedOut([a,a.eb]),a.visitorOptedOut!=c&&(a.U=!0)),a.X||a.analyticsVisitorID||!g.getAnalyticsVisitorID||(a.X=!0,a.analyticsVisitorID=g.getAnalyticsVisitorID([a,a.Ra]),a.analyticsVisitorID&&(a.Q=!0)),a.Z||a.audienceManagerLocationHint||!g.getAudienceManagerLocationHint||(a.Z=!0,a.audienceManagerLocationHint=g.getAudienceManagerLocationHint([a,a.Ta]),a.audienceManagerLocationHint&&(a.S=!0)),a.Y||a.audienceManagerBlob||!g.getAudienceManagerBlob||(a.Y=!0,a.audienceManagerBlob=g.getAudienceManagerBlob([a,a.Sa]),a.audienceManagerBlob&&(a.R=!0)),f=a.aa&&!a.T&&!a.marketingCloudVisitorID,g=a.X&&!a.Q&&!a.analyticsVisitorID,b=a.Z&&!a.S&&!a.audienceManagerLocationHint,d=a.Y&&!a.R&&!a.audienceManagerBlob,e=a.da&&!a.U,f=f||g||b||d||e?!1:!0),a.ba||a.G||(a.Ua(a.ua)?a.G=!0:a.ba=!0),a.ba&&!a.G&&(f=!1),f)},a.o=c,a.u=0,a.callbackWhenReadyToTrack=function(b,d,e){var f;f={},f.ib=b,f.hb=d,f.fb=e,a.o==c&&(a.o=[]),a.o.push(f),0==a.u&&(a.u=setInterval(a.j,100))},a.j=function(){var b;if(a.isReadyToTrack()&&(a.bb(),a.o!=c))for(;0<a.o.length;)b=a.o.shift(),b.hb.apply(b.ib,b.fb)},a.bb=function(){a.u&&(clearInterval(a.u),a.u=0)},a.Xa=function(b){var d,e,f=c,g=c;if(!a.isReadyToTrack()){if(d=[],b!=c)for(e in f={},b)f[e]=b[e];return g={},a.Pa(g,!0),d.push(f),d.push(g),a.callbackWhenReadyToTrack(a,a.track,d),!0}return!1},a.pb=function(){var b,c=a.cookieRead("s_fid"),d="",e="";b=8;var f=4;if(!c||0>c.indexOf("-")){for(c=0;16>c;c++)b=Math.floor(Math.random()*b),d+="0123456789ABCDEF".substring(b,b+1),b=Math.floor(Math.random()*f),e+="0123456789ABCDEF".substring(b,b+1),b=f=16;c=d+"-"+e}return a.cookieWrite("s_fid",c,1)||(c=0),c},a.t=a.track=function(c,d){var e,g=new Date,h="s"+Math.floor(g.getTime()/108e5)%10+Math.floor(1e13*Math.random()),i=g.getYear(),i="t="+a.escape(g.getDate()+"/"+g.getMonth()+"/"+(1900>i?i+1900:i)+" "+g.getHours()+":"+g.getMinutes()+":"+g.getSeconds()+" "+g.getDay()+" "+g.getTimezoneOffset());a.visitor&&(a.visitor.getAuthState&&(a.authState=a.visitor.getAuthState()),!a.supplementalDataID&&a.visitor.getSupplementalDataID&&(a.supplementalDataID=a.visitor.getSupplementalDataID("AppMeasurement:"+a._in,a.expectSupplementalData?!1:!0))),a.p("_s"),a.Xa(c)||(d&&a.P(d),c&&(e={},a.Pa(e,0),a.P(c)),a.vb()&&!a.visitorOptedOut&&(a.analyticsVisitorID||a.marketingCloudVisitorID||(a.fid=a.pb()),a.Ab(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(g.getTime()/1e3)),g=b.location,a.pageURL||(a.pageURL=g.href?g.href:g),a.referrer||a.Qa||(a.referrer=f.document.referrer),a.Qa=1,a.referrer=a.nb(a.referrer),a.p("_g")),a.sb()&&!a.abort&&(a.tb(),i+=a.rb(),a.zb(h,i),a.p("_t"),a.referrer=""))),c&&a.P(e,1)),a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=b.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=0},a.tl=a.trackLink=function(b,c,d,e,f){return a.linkObject=b,a.linkType=c,a.linkName=d,f&&(a.l=b,a.A=f),a.track(e)},a.trackLight=function(b,c,d,e){return a.lightProfileID=b,a.lightStoreForSeconds=c,a.lightIncrementBy=d,a.track(e)},a.clearVars=function(){var b,c;for(b=0;b<a.g.length;b++)c=a.g[b],("prop"==c.substring(0,4)||"eVar"==c.substring(0,4)||"hier"==c.substring(0,4)||"list"==c.substring(0,4)||"channel"==c||"events"==c||"eventList"==c||"products"==c||"productList"==c||"purchaseID"==c||"transactionID"==c||"state"==c||"zip"==c||"campaign"==c)&&(a[c]=void 0)},a.tagContainerMarker="",a.zb=function(b,c){var d,e=a.trackingServer;d="";var f=a.dc,g="sc.",h=a.visitorNamespace;e?a.trackingServerSecure&&a.ssl&&(e=a.trackingServerSecure):(h||(h=a.account,e=h.indexOf(","),e>=0&&(h=h.substring(0,e)),h=h.replace(/[^A-Za-z0-9]/g,"")),d||(d="2o7.net"),f=f?(""+f).toLowerCase():"d1","2o7.net"==d&&("d1"==f?f="112":"d2"==f&&(f="122"),g=""),e=h+"."+f+"."+g+d),d=a.ssl?"https://":"http://",f=a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks,d+=e+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(f?"10":"1")+"/JS-"+a.version+(a.Db?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")+"/"+b+"?AQB=1&ndh=1&pf=1&"+(f?"callback=s_c_il["+a._in+"].doPostbacks&et=1&":"")+c+"&AQE=1",a.lb(d),a.ia()},a.Oa=/{(%?)(.*?)(%?)}/,a.Hb=RegExp(a.Oa.source,"g"),a.mb=function(b){if("object"==typeof b.dests)for(var c=0;c<b.dests.length;++c)if(o=b.dests[c],"string"==typeof o.c&&"aa."==o.id.substr(0,3))for(var d=o.c.match(a.Hb),c=0;c<d.length;++c){match=d[c];var e=match.match(a.Oa),f="";"%"==e[1]&&"timezone_offset"==e[2]?f=(new Date).getTimezoneOffset():"%"==e[1]&&"timestampz"==e[2]&&(f=a.qb()),o.c=o.c.replace(match,a.escape(f))}},a.qb=function(){var b=new Date,c=new Date(6e4*Math.abs(b.getTimezoneOffset()));return a.k(4,b.getFullYear())+"-"+a.k(2,b.getMonth()+1)+"-"+a.k(2,b.getDate())+"T"+a.k(2,b.getHours())+":"+a.k(2,b.getMinutes())+":"+a.k(2,b.getSeconds())+(0<b.getTimezoneOffset()?"-":"+")+a.k(2,c.getUTCHours())+":"+a.k(2,c.getUTCMinutes())},a.k=function(a,b){return(Array(a+1).join(0)+b).slice(-a)},a.qa={},a.doPostbacks=function(b){if("object"==typeof b)if(a.mb(b),"object"==typeof a.AudienceManagement&&"function"==typeof a.AudienceManagement.isReady&&a.AudienceManagement.isReady()&&"function"==typeof a.AudienceManagement.passData)a.AudienceManagement.passData(b);else if("object"==typeof b&&"object"==typeof b.dests)for(var c=0;c<b.dests.length;++c)dest=b.dests[c],"object"==typeof dest&&"string"==typeof dest.c&&"string"==typeof dest.id&&"aa."==dest.id.substr(0,3)&&(a.qa[dest.id]=new Image,a.qa[dest.id].alt="",a.qa[dest.id].src=dest.c)},a.lb=function(b){a.i||a.ub(),a.i.push(b),a.ka=a.C(),a.Ma()},a.ub=function(){a.i=a.wb(),a.i||(a.i=[])},a.wb=function(){var c,d;if(a.pa()){try{(d=b.localStorage.getItem(a.na()))&&(c=b.JSON.parse(d))}catch(e){}return c}},a.pa=function(){var c=!0;return a.trackOffline&&a.offlineFilename&&b.localStorage&&b.JSON||(c=!1),c},a.Da=function(){var b=0;return a.i&&(b=a.i.length),a.q&&b++,b},a.ia=function(){if(!a.q||(a.B&&a.B.complete&&a.B.timeout&&a.B.ta(),!a.q))if(a.Ea=c,a.oa)a.ka>a.M&&a.Ka(a.i),a.ra(500);else{var b=a.gb();b>0?a.ra(b):(b=a.Aa())&&(a.q=1,a.yb(b),a.Cb(b))}},a.ra=function(b){a.Ea||(b||(b=0),a.Ea=setTimeout(a.ia,b))},a.gb=function(){var b;return!a.trackOffline||0>=a.offlineThrottleDelay?0:(b=a.C()-a.Ja,a.offlineThrottleDelay<b?0:a.offlineThrottleDelay-b)},a.Aa=function(){return 0<a.i.length?a.i.shift():void 0},a.yb=function(b){if(a.debugTracking){var c="AppMeasurement Debug: "+b;b=b.split("&");var d;for(d=0;d<b.length;d++)c+="\n	"+a.unescape(b[d]);a.xb(c)}},a.Ya=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID},a.W=!1;var i;try{i=JSON.parse('{"x":"y"}')}catch(j){i=null}i&&"y"==i.x?(a.W=!0,a.V=function(a){return JSON.parse(a)}):b.$&&b.$.parseJSON?(a.V=function(a){return b.$.parseJSON(a)},a.W=!0):a.V=function(){return null},a.Cb=function(d){var e,f,g;if(a.Ya()&&2047<d.length&&("undefined"!=typeof XMLHttpRequest&&(e=new XMLHttpRequest,"withCredentials"in e?f=1:e=0),e||"undefined"==typeof XDomainRequest||(e=new XDomainRequest,f=2),e&&(a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks)&&(a.W?e.wa=!0:e=0)),!e&&a.Na&&(d=d.substring(0,2047)),!e&&a.d.createElement&&(0!=a.usePostbacks||a.AudienceManagement&&a.AudienceManagement.isReady())&&(e=a.d.createElement("SCRIPT"))&&"async"in e&&((g=(g=a.d.getElementsByTagName("HEAD"))&&g[0]?g[0]:a.d.body)?(e.type="text/javascript",e.setAttribute("async","async"),f=3):e=0),e||(e=new Image,e.alt="",e.abort||"undefined"==typeof b.InstallTrigger||(e.abort=function(){e.src=c})),e.ya=function(){try{e.timeout&&(clearTimeout(e.timeout),e.timeout=0)}catch(a){}},e.onload=e.ta=function(){if(e.ya(),a.kb(),a.ea(),a.q=0,a.ia(),e.wa){e.wa=!1;try{a.doPostbacks(a.V(e.responseText))}catch(b){}}},e.onabort=e.onerror=e.Ba=function(){e.ya(),(a.trackOffline||a.oa)&&a.q&&a.i.unshift(a.jb),a.q=0,a.ka>a.M&&a.Ka(a.i),a.ea(),a.ra(500)},e.onreadystatechange=function(){4==e.readyState&&(200==e.status?e.ta():e.Ba())},a.Ja=a.C(),1==f||2==f){var h=d.indexOf("?");g=d.substring(0,h),h=d.substring(h+1),h=h.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==f?(e.open("POST",g,!0),e.send(h)):2==f&&(e.open("POST",g),e.send(h))}else if(e.src=d,3==f){if(a.Ha)try{g.removeChild(a.Ha)}catch(i){}g.firstChild?g.insertBefore(e,g.firstChild):g.appendChild(e),a.Ha=a.B}e.timeout=setTimeout(function(){e.timeout&&(e.complete?e.ta():(a.trackOffline&&e.abort&&e.abort(),e.Ba()))},5e3),a.jb=d,a.B=b["s_i_"+a.replace(a.account,",","_")]=e,(a.useForcedLinkTracking&&a.I||a.A)&&(a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.fa=setTimeout(a.ea,a.forcedLinkTrackingTimeout))},a.kb=function(){if(a.pa()&&!(a.Ia>a.M))try{b.localStorage.removeItem(a.na()),a.Ia=a.C()}catch(c){}},a.Ka=function(c){if(a.pa()){a.Ma();try{b.localStorage.setItem(a.na(),b.JSON.stringify(c)),a.M=a.C()}catch(d){}}},a.Ma=function(){if(a.trackOffline)for((!a.offlineLimit||0>=a.offlineLimit)&&(a.offlineLimit=10);a.i.length>a.offlineLimit;)a.Aa()},a.forceOffline=function(){a.oa=!0},a.forceOnline=function(){a.oa=!1},a.na=function(){return a.offlineFilename+"-"+a.visitorNamespace+a.account},a.C=function(){return(new Date).getTime()},a.Fa=function(a){return a=a.toLowerCase(),0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1},a.setTagContainer=function(b){var c,d,e;for(a.Db=b,c=0;c<a._il.length;c++)if((d=a._il[c])&&"s_l"==d._c&&d.tagContainerName==b){if(a.P(d),d.lmq)for(c=0;c<d.lmq.length;c++)e=d.lmq[c],a.loadModule(e.n);if(d.ml)for(e in d.ml)if(a[e])for(c in b=a[e],e=d.ml[e])!Object.prototype[c]&&("function"!=typeof e[c]||0>(""+e[c]).indexOf("s_c_il"))&&(b[c]=e[c]);if(d.mmq)for(c=0;c<d.mmq.length;c++)e=d.mmq[c],a[e.m]&&(b=a[e.m],b[e.f]&&"function"==typeof b[e.f]&&(e.a?b[e.f].apply(b,e.a):b[e.f].apply(b)));if(d.tq)for(c=0;c<d.tq.length;c++)a.track(d.tq[c]);d.s=a;break}},a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,d,e){var f;return d||(d=a.pageURL?a.pageURL:b.location),e||(e="&"),c&&d&&(d=""+d,f=d.indexOf("?"),f>=0&&(d=e+d.substring(f+1)+e,f=d.indexOf(e+c+"="),f>=0&&(d=d.substring(f+e.length+c.length+1),f=d.indexOf(e),f>=0&&(d=d.substring(0,f)),0<d.length)))?a.unescape(d):""}},a.F="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),a.g=a.F.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),a.la="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),a.N=a.la.slice(0),a.va="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks AudienceManagement".split(" ");for(d=0;250>=d;d++)76>d&&(a.g.push("prop"+d),a.N.push("prop"+d)),a.g.push("eVar"+d),a.N.push("eVar"+d),6>d&&a.g.push("hier"+d),4>d&&a.g.push("list"+d);d="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest".split(" "),a.g=a.g.concat(d),a.F=a.F.concat(d),a.ssl=0<=b.location.protocol.toLowerCase().indexOf("https"),a.charSet="UTF-8",a.contextData={},a.offlineThrottleDelay=0,a.offlineFilename="AppMeasurement.offline",a.Ja=0,a.ka=0,a.M=0,a.Ia=0,a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",a.w=b,a.d=b.document;try{if(a.Na=!1,navigator){var k=navigator.userAgent;("Microsoft Internet Explorer"==navigator.appName||0<=k.indexOf("MSIE ")||0<=k.indexOf("Trident/")&&0<=k.indexOf("Windows NT 6"))&&(a.Na=!0)}}catch(m){}a.ea=function(){a.fa&&(b.clearTimeout(a.fa),a.fa=c),a.l&&a.I&&a.l.dispatchEvent(a.I),a.A&&("function"==typeof a.A?a.A():a.l&&a.l.href&&(a.d.location=a.l.href)),a.l=a.I=a.A=0},a.La=function(){a.b=a.d.body,a.b?(a.v=function(c){var d,e,f,g,h;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.xa){if(!a.useForcedLinkTracking)return a.b.removeEventListener("click",a.v,!0),void(a.xa=a.useForcedLinkTracking=0);a.b.removeEventListener("click",a.v,!1)}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.L&&a.L==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=0;else{var i=a.L=a.clickObject;if(a.ja&&(clearTimeout(a.ja),a.ja=0),a.ja=setTimeout(function(){a.L==i&&(a.L=0)},1e4),f=a.Da(),a.track(),f<a.Da()&&a.useForcedLinkTracking&&c.target){for(g=c.target;g&&g!=a.b&&"A"!=g.tagName.toUpperCase()&&"AREA"!=g.tagName.toUpperCase();)g=g.parentNode;if(g&&(h=g.href,a.Fa(h)||(h=0),e=g.target,c.target.dispatchEvent&&h&&(!e||"_self"==e||"_top"==e||"_parent"==e||b.name&&e==b.name))){try{d=a.d.createEvent("MouseEvents")}catch(j){d=new b.MouseEvent}if(d){try{d.initMouseEvent("click",c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(k){d=0}d&&(d["s_fe_"+a._in]=d.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.l=c.target,a.I=d)}}}}}catch(l){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.v):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&a.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&b.MouseEvent)&&(a.xa=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.v,!0)),a.b.addEventListener("click",a.v,!1))):setTimeout(a.La,30)},a.La(),a.loadModule("ActivityMap")}function e(a){var b,c,e,f,g,h=window.s_c_il,i=a.split(","),j=0;if(h)for(c=0;!j&&c<h.length;){if(b=h[c],"s_c"==b._c&&(b.account||b.oun))if(b.account&&b.account==a)j=1;else for(e=b.account?b.account:b.oun,e=b.allAccounts?b.allAccounts:e.split(","),f=0;f<i.length;f++)for(g=0;g<e.length;g++)i[f]==e[g]&&(j=1);c++}return j||(b=new d),b.setAccount?b.setAccount(a):b.sa&&b.sa(a),b}function f(){var a,b,c,d=window,f=d.s_giq;if(f)for(a=0;a<f.length;a++)b=f[a],c=e(b.oun),c.setAccount(b.un),c.setTagContainer(b.tagContainerName);d.s_giq=0}function g(a){var b=this;b.s=a,a=window,a.s_c_in||(a.s_c_il=[],a.s_c_in=0),b._il=a.s_c_il,b._in=a.s_c_in,b._il[b._in]=b,a.s_c_in++,b._c="s_m",b.list=[],b.open=function(a,c,d,e){var f,g={},h=new Date,i="";if(c||(c=-1),a&&d){if(b.list||(b.list={}),b.list[a]&&b.close(a),e&&e.id&&(i=e.id),i)for(f in b.list)!Object.prototype[f]&&b.list[f]&&b.list[f].R==i&&b.close(b.list[f].name);g.name=a,g.length=c,g.offset=0,g.e=0,g.playerName=b.playerName?b.playerName:d,g.R=i,g.C=0,g.a=0,g.timestamp=Math.floor(h.getTime()/1e3),g.k=0,g.u=g.timestamp,g.c=-1,g.n="",g.g=-1,g.D=0,g.I={},g.G=0,g.m=0,g.f="",g.B=0,g.L=0,g.A=0,g.F=0,g.l=!1,g.v="",g.J="",g.K=0,g.r=!1,g.H="",g.complete=0,g.Q=0,g.p=0,g.q=0,b.list[a]=g}},b.openAd=function(a,c,d,e,f,g,h,i){var j={};b.open(a,c,d,i),(j=b.list[a])&&(j.l=!0,j.v=e,j.J=f,j.K=g,j.H=h)},b.M=function(a){var c=b.list[a];b.list[a]=0,c&&c.monitor&&clearTimeout(c.monitor.interval)},b.close=function(a){b.i(a,0,-1)},b.play=function(a,c,d,e){var f=b.i(a,1,c,d,e);f&&!f.monitor&&(f.monitor={},f.monitor.update=function(){1==f.k&&b.i(f.name,3,-1),f.monitor.interval=setTimeout(f.monitor.update,1e3)},f.monitor.update())},b.click=function(a,c){b.i(a,7,c)},b.complete=function(a,c){b.i(a,5,c)},b.stop=function(a,c){b.i(a,2,c)},b.track=function(a){b.i(a,4,-1)},b.P=function(a,c){var d,e,f="a.media.",g=a.linkTrackVars,h=a.linkTrackEvents,i="m_i",j=a.contextData;if(c.l&&(f+="ad.",c.v&&(j["a.media.name"]=c.v,j[f+"pod"]=c.J,j[f+"podPosition"]=c.K),c.G||(j[f+"CPM"]=c.H)),c.r&&(j[f+"clicked"]=!0,c.r=!1),j["a.contentType"]="video"+(c.l?"Ad":""),j["a.media.channel"]=b.channel,j[f+"name"]=c.name,j[f+"playerName"]=c.playerName,0<c.length&&(j[f+"length"]=c.length),j[f+"timePlayed"]=Math.floor(c.a),0<Math.floor(c.a)&&(j[f+"timePlayed"]=Math.floor(c.a)),c.G||(j[f+"view"]=!0,i="m_s",b.Heartbeat&&b.Heartbeat.enabled&&(i=c.l?b.__primetime?"mspa_s":"msa_s":b.__primetime?"msp_s":"ms_s"),c.G=1),c.f&&(j[f+"segmentNum"]=c.m,j[f+"segment"]=c.f,0<c.B&&(j[f+"segmentLength"]=c.B),c.A&&0<c.a&&(j[f+"segmentView"]=!0)),!c.Q&&c.complete&&(j[f+"complete"]=!0,c.S=1),0<c.p&&(j[f+"milestone"]=c.p),0<c.q&&(j[f+"offsetMilestone"]=c.q),g)for(e in j)Object.prototype[e]||(g+=",contextData."+e);d=j["a.contentType"],a.pe=i,a.pev3=d;var k,l;if(b.contextDataMapping)for(e in a.events2||(a.events2=""),g&&(g+=",events"),b.contextDataMapping)if(!Object.prototype[e]){if(i=e.length>f.length&&e.substring(0,f.length)==f?e.substring(f.length):"",d=b.contextDataMapping[e],"string"==typeof d)for(k=d.split(","),l=0;l<k.length;l++)d=k[l],"a.contentType"==e?(g&&(g+=","+d),a[d]=j[e]):"view"==i||"segmentView"==i||"clicked"==i||"complete"==i||"timePlayed"==i||"CPM"==i?(h&&(h+=","+d),"timePlayed"==i||"CPM"==i?j[e]&&(a.events2+=(a.events2?",":"")+d+"="+j[e]):j[e]&&(a.events2+=(a.events2?",":"")+d)):"segment"==i&&j[e+"Num"]?(g&&(g+=","+d),a[d]=j[e+"Num"]+":"+j[e]):(g&&(g+=","+d),a[d]=j[e]);else("milestones"==i||"offsetMilestones"==i)&&(e=e.substring(0,e.length-1),j[e]&&b.contextDataMapping[e+"s"][j[e]]&&(h&&(h+=","+b.contextDataMapping[e+"s"][j[e]]),a.events2+=(a.events2?",":"")+b.contextDataMapping[e+"s"][j[e]]));j[e]&&(j[e]=0),"segment"==i&&j[e+"Num"]&&(j[e+"Num"]=0)}a.linkTrackVars=g,a.linkTrackEvents=h},b.i=function(a,c,d,e,f){var g,h,i,j,k,l={},m=(new Date).getTime()/1e3,n=b.trackVars,o=b.trackEvents,p=b.trackSeconds,q=b.trackMilestones,r=b.trackOffsetMilestones,s=b.segmentByMilestones,t=b.segmentByOffsetMilestones,u=1,v={};if(b.channel||(b.channel=b.s.w.location.hostname),(l=a&&b.list&&b.list[a]?b.list[a]:0)&&(l.l&&(p=b.adTrackSeconds,q=b.adTrackMilestones,r=b.adTrackOffsetMilestones,s=b.adSegmentByMilestones,t=b.adSegmentByOffsetMilestones),0>d&&(d=1==l.k&&0<l.u?m-l.u+l.c:l.c),0<l.length&&(d=d<l.length?d:l.length),0>d&&(d=0),l.offset=d,0<l.length&&(l.e=l.offset/l.length*100,l.e=100<l.e?100:l.e),0>l.c&&(l.c=d),k=l.D,v.name=a,v.ad=l.l,v.length=l.length,v.openTime=new Date,v.openTime.setTime(1e3*l.timestamp),v.offset=l.offset,v.percent=l.e,v.playerName=l.playerName,v.mediaEvent=0>l.g?"OPEN":1==c?"PLAY":2==c?"STOP":3==c?"MONITOR":4==c?"TRACK":5==c?"COMPLETE":7==c?"CLICK":"CLOSE",c>2||c!=l.k&&(2!=c||1==l.k))){if(f||(e=l.m,f=l.f),c){if(1==c&&(l.c=d),(3>=c||c>=5)&&0<=l.g&&(u=!1,n=o="None",l.g!=d)){if(h=l.g,h>d&&(h=l.c,h>d&&(h=d)),i=q?q.split(","):0,0<l.length&&i&&d>=h)for(j=0;j<i.length;j++)(g=i[j]?parseFloat(""+i[j]):0)&&h/l.length*100<g&&l.e>=g&&(u=!0,j=i.length,v.mediaEvent="MILESTONE",l.p=v.milestone=g);if((i=r?r.split(","):0)&&d>=h)for(j=0;j<i.length;j++)(g=i[j]?parseFloat(""+i[j]):0)&&g>h&&d>=g&&(u=!0,j=i.length,v.mediaEvent="OFFSET_MILESTONE",l.q=v.offsetMilestone=g)}if(l.L||!f){if(s&&q&&0<l.length){if(i=q.split(","))for(i.push("100"),j=h=0;j<i.length;j++)(g=i[j]?parseFloat(""+i[j]):0)&&(l.e<g&&(e=j+1,f="M:"+h+"-"+g,j=i.length),h=g)}else if(t&&r&&(i=r.split(",")))for(i.push(""+(0<l.length?l.length:"E")),j=h=0;j<i.length;j++)((g=i[j]?parseFloat(""+i[j]):0)||"E"==i[j])&&((g>d||"E"==i[j])&&(e=j+1,f="O:"+h+"-"+g,j=i.length),h=g);f&&(l.L=!0)}(f||l.f)&&f!=l.f&&(l.F=!0,l.f||(l.m=e,l.f=f),0<=l.g&&(u=!0)),(c>=2||100<=l.e)&&l.c<d&&(l.C+=d-l.c,l.a+=d-l.c),(2>=c||3==c&&!l.k)&&(l.n+=(1==c||3==c?"S":"E")+Math.floor(d),l.k=3==c?1:c),!u&&0<=l.g&&3>=c&&(p=p?p:0)&&l.a>=p&&(u=!0,v.mediaEvent="SECONDS"),l.u=m,l.c=d}(!c||3>=c&&100<=l.e)&&(2!=l.k&&(l.n+="E"+Math.floor(d)),c=0,n=o="None",v.mediaEvent="CLOSE"),7==c&&(u=v.clicked=l.r=!0),(5==c||b.completeByCloseOffset&&(!c||100<=l.e)&&0<l.length&&d>=l.length-b.completeCloseOffsetThreshold)&&(u=v.complete=l.complete=!0),m=v.mediaEvent,"MILESTONE"==m?m+="_"+v.milestone:"OFFSET_MILESTONE"==m&&(m+="_"+v.offsetMilestone),l.I[m]?v.eventFirstTime=!1:(v.eventFirstTime=!0,l.I[m]=1),v.event=v.mediaEvent,v.timePlayed=l.C,v.segmentNum=l.m,v.segment=l.f,v.segmentLength=l.B,b.monitor&&4!=c&&b.monitor(b.s,v),b.Heartbeat&&b.Heartbeat.enabled&&0<=l.g&&(u=!1),0==c&&b.M(a),u&&l.D==k&&(a={contextData:{}},a.linkTrackVars=n,a.linkTrackEvents=o,a.linkTrackVars||(a.linkTrackVars=""),a.linkTrackEvents||(a.linkTrackEvents=""),b.P(a,l),a.linkTrackVars||(a["!linkTrackVars"]=1),a.linkTrackEvents||(a["!linkTrackEvents"]=1),b.s.track(a),l.F?(l.m=e,l.f=f,l.A=!0,l.F=!1):0<l.a&&(l.A=!1),l.n="",l.p=l.q=0,l.a-=Math.floor(l.a),l.g=d,l.D++)}return l},b.O=function(a,c,d,e,f){var g=0;a&&(!b.autoTrackMediaLengthRequired||c&&c>0)&&(b.list&&b.list[a]?g=1:(1==d||3==d)&&(b.open(a,c,"HTML5 Video",f),g=1),g&&b.i(a,d,e,-1,0))},b.attach=function(a){var c,d,e;a&&a.tagName&&"VIDEO"==a.tagName.toUpperCase()&&(b.o||(b.o=function(a,c,d){var e,f;b.autoTrack&&(e=a.currentSrc,(f=a.duration)||(f=-1),0>d&&(d=a.currentTime),b.O(e,f,c,d,a))}),c=function(){b.o(a,1,-1)},d=function(){b.o(a,1,-1)},b.j(a,"play",c),b.j(a,"pause",d),b.j(a,"seeking",d),b.j(a,"seeked",c),b.j(a,"ended",function(){b.o(a,0,-1)}),b.j(a,"timeupdate",c),(e=function(){a.paused||a.ended||a.seeking||b.o(a,3,-1),setTimeout(e,1e3)})())},b.j=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)},void 0==b.completeByCloseOffset&&(b.completeByCloseOffset=1),void 0==b.completeCloseOffsetThreshold&&(b.completeCloseOffsetThreshold=1),b.Heartbeat={},b.N=function(){var a,c;if(b.autoTrack&&(a=b.s.d.getElementsByTagName("VIDEO")))for(c=0;c<a.length;c++)b.attach(a[c])},b.j(a,"load",b.N)}var i=window;i.AppMeasurement=d,i.Visitor=a,i.AppMeasurement_Module_ActivityMap=c,i.AppMeasurement_Module_Media=g,i.nb=i.nb||[];var j=i.metrics=i.metrics||{};j.defaultsReady=j.defaultsReady||[],i.mready=i.mready||[],i.mconfig=i.mconfig||{},mconfig.events=mconfig.events||[];var k,m=null,n=!1;window.utag_data=window.utag_data||{};var p=window.utag_data,q=p.analytics_account;p.adobe={marketing_cloud_org_id:"5FE61C8B533204850A490D4D@AdobeOrg",heartbeat_tracking_server:"newscorpau.hb.omtrdc.net",visitorObjectConfig:{trackingServer:"newscorpau.sc.omtrdc.net",trackingServerSecure:"newscorpau.sc.omtrdc.net"}},p.tnt&&"undefined"!=typeof p.tnt&&(p.adobe.tnt=p.tnt),p.analytics_msite_to_web||(/^m\./.test(i.location.hostname)&&(q=q.replace("web","msite")),p.net_platform&&"mobile"==p.net_platform&&(q=q.replace("web","msite"),p.site=p.site.replace(/web/i,"Msite"))),k=p.site_exclude_urls&&p.site_exclude_urls.test(window.location.hostname)?p.site_exclude_urls.test(window.location.hostname)?"-dev":"":p.site_include_urls?p.site_include_urls.test(window.location.hostname)?"":"-dev":"",k=p.analytics_account_suffix?p.analytics_account_suffix:k,"autoTrack"in mconfig||(mconfig.autoTrack=!0);var r=/\.com\.au|rhcloud\.com/.test(window.location.hostname)?3:2,t=function(a,b,c){var d=a.split("."),e=d.slice(d.length-b,d.length).join("."),f="javascript:,myaccount.news.com.au,mrmennewscorp.com.au,newsdigitalmedia.com.au,newspaperdirect.com,infochoice.com.au,outbrain.com,"+e;return c&&(f+=","+c),f},u=t(window.location.hostname,r,p.site_extra_domains),w=!0,x=!1;if(a.getInstance=function(b,c){var d,e,f=window.s_c_il;if(0>b.indexOf("@")&&(b+="@AdobeOrg"),f)for(e=0;e<f.length;e++)if((d=f[e])&&"Visitor"==d._c&&d.marketingCloudOrgID==b)return d;return new a(b,c)},function(){function a(){b.Z=c}var b=window.Visitor,c=b.Ia,d=b.Ga;c||(c=w),d||(d=x),window.addEventListener?window.addEventListener("load",a):window.attachEvent&&window.attachEvent("onload",a),b.Va=(new Date).getTime()}(),j.s=s=new d,s.visitorNamespace="newscorpau",
window.location.hostname.indexOf("com.au")>-1){var y=window.location.hostname.split(".");3==y.length?p.adobe.visitorObjectConfig.cookieDomain=window.location.hostname:y.length>3&&(sp=y.length-3,domainArray=[y[sp],y[sp+1],y[sp+2]],p.adobe.visitorObjectConfig.cookieDomain=domainArray.join("."))}var z=[],A=j.s.Util.cookieRead("analytics_test_cookie")||"";q&&z.push(q+k),p.analytics_no_global||k||z.push("newscorpau-global"),!p.analytics_no_global&&A&&z.push(k?"newslimited"+k:"newscorpau-global"),s.account=z.join(",");var B=window.newskey?window.newskey.nk:null;s.visitorID=B||j.s.Util.cookieRead("nk")||j.s.Util.cookieRead("newskey"),s.currencyCode="AUD",s.trackInlineStats=!0,s.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",s.linkLeaveQueryString=!0,s.linkTrackVars="None",s.linkTrackEvents="None",s.cookieDomainPeriods=r,s.linkInternalFilters=u,s.trackDownloadLinks=s.trackExternalLinks=mconfig.autoTrack,s.trackingServer=p.adobe.visitorObjectConfig.trackingServer,s.visitor=i.visitor=a.getInstance(p.adobe.marketing_cloud_org_id,p.adobe.visitorObjectConfig),s._tpDST={2014:"4/6,10/5",2015:"4/5,10/4",2016:"4/3,10/2",2017:"4/2,10/1",2018:"4/1,10/7",2019:"4/7,10/6",2020:"4/5,10/4",2021:"4/4,10/3",2022:"4/3,10/2",2023:"4/2,10/1"},s.usePlugins=!0,s.doPlugins=b,s.trackTNT=new Function("v","p","b","var s=this,n='s_tnt',q='s_tntref',p=(p)?p:n,v=(v)?v:n,r='',pm=false,b=(b)?b:true;if(s.Util.getQueryParam(q)!=''){s.referrer=s.Util.getQueryParam(q);}else if(s.c_r(q)!=''){s.referrer=s.c_r(q);document.cookie=q+'=;path=/;expires=Thu, 01-Jan-1970 00:00:01 GMT;';}else if((document.cookie.indexOf(q)!=-1&&s.c_r(q)=='')||(location.search.indexOf(q+'=')!=-1&&s.Util.getQueryParam(q)=='')){s.referrer='Typed/Bookmarked';document.cookie=q+'=;path=/;expires=Thu, 01-Jan-1970 00:00:01 GMT;';}if(s.Util.getQueryParam(p)!=''){pm=s.Util.getQueryParam(p);}else if(s.c_r(p)){pm=s.c_r(p);document.cookie=p+'=;path=/;expires=Thu, 01-Jan-1970 00:00:01 GMT;';}else if(s.c_r(p)==''&&s.Util.getQueryParam(p)==''){pm='';}if(pm)r+=(pm+',');if(window[v]!=undefined)r+=window[v];if(b)window[v]='';return r.toLowerCase();"),s.channelManager=new Function("a","b","c","d","e","f","g","var s=this,h=new Date,i=0,j,k,l,m,n,o,p,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T;h.setTime(h.getTime()+1800000);if(e){i=1;if(s.c_r(e))i=0;if(!s.c_w(e,1,h))s.c_w(e,1,0);if(!s.c_r(e))i=0;if(f&&s.c_r('s_tbm'+f))i=0;}try {j=window.parent.document.referrer?window.parent.document.referrer:(s.referrer?s.referrer:document.referrer);}catch(e){j=s.referrer?s.referrer:document.referrer;}j=unescape(j.toLowerCase());if(!j)k=1;else {l=j.indexOf('?')>-1?j.indexOf('?'):j.length;m=j.substring(0,l);n=s.split(j,'/');n=s.split(n[2],'?');o=n[0].toLowerCase();p=s.linkInternalFilters.toLowerCase();p=s.split(p,',');for(q=0;q<p.length;q++){r=o.indexOf(p[q])==-1?'':j;if(r)break;}}if(!r&&!k){t=j;u=v=o;w='Other Natural Referrers';x=s.seList+'>'+s._extraSearchEngines;if(d==1){m=s.replace(m,'oogle','%');m=s.replace(m,'ahoo','^');j=s.replace(j,'as_q','*');}y=s.split(x,'>');for(z=0;z<y.length;z++){A=y[z];A=s.split(A,'|');B=s.split(A[0],',');for(C=0;C<B.length;C++){D=m.indexOf(B[C]);if(D>-1){if(A[2])E=v=A[2];else E=o;if(d==1){E=s.replace(E,'#',' - ');j=s.replace(j,'*','as_q');E=s.replace(E,'^','ahoo');E=s.replace(E,'%','oogle');}F=s.split(A[1],',');for(G=0;G<F.length;G++){if(j.indexOf(F[G]+'=')>-1||j.indexOf('https://www.google.')==0)H=1;I=s.Util.getQueryParam(F[G],j).toLowerCase();if(H||I)break;}}if(H||I)break;}if(H||I)break;}}if(!r||g!='1'){J=s.split(a,',');K=0;while(!T&&K<J.length){T=s.Util.getQueryParam(J[K],'',b);K++;}if(T){v=T;if(E)w='Paid Search';else w='Unknown Paid Channel';}if(!T&&E&&H){v=E;w='Natural Search';}}if(i&&(k||r)&&!T)t=u=v=w='Typed/Bookmarked';J=s._channelDomain;if(J&&o&&!r){K=s.split(J,'>');for(L=0;L<K.length;L++){M=s.split(K[L],'|');N=s.split(M[1],',');O=N.length;for(P=0;P<O;P++){Q=N[P].toLowerCase();R=o.indexOf(Q);if(R>-1){w=M[0];break;}}if(R>-1)break;}}J=s._channelParameter;if(J){K=s.split(J,'>');for(L=0;L<K.length;L++){M=s.split(K[L],'|');N=s.split(M[1],',');O=N.length;for(P=0;P<O;P++){R=s.Util.getQueryParam(N[P]);if(R){w=M[0];break;}}if(R)break;}}J=s._channelPattern;if(J){K=s.split(J,'>');for(L=0;L<K.length;L++){M=s.split(K[L],'|');N=s.split(M[1],',');O=N.length;for(P=0;P<O;P++){Q=N[P].toLowerCase();R=T.toLowerCase();S=R.indexOf(Q);if(S==0){w=M[0];break;}}if(S==0)break;}}S=w?T+u+w+I:'';c=c?c:'c_m';if(c!='0')S=s.getValOnce(S,c,0);if(S){s._campaignID=T?T:'n/a';s._referrer=t?t:'n/a';s._referringDomain=u?u:'n/a';s._campaign=v?v:'n/a';s._channel=w?w:'n/a';s._partner=E?E:'n/a';s._keywords=H?I?I:'Keyword Unavailable':'n/a';if(f&&w!='Typed/Bookmarked'){h.setTime(h.getTime()+f*86400000);s.c_w('s_tbm'+f,1,h);}}else s._campaignID=s._referrer=s._referringDomain=s._campaign=s._channel=s._partner=s._keywords='';"),s.seList="google.,googlesyndication.com,.googleadservices.com|q,as_q|Google>yahoo.com,yahoo.co.jp|p,va|Yahoo!>bing.com|q|Bing>altavista.co,altavista.de|q,r|AltaVista>.aol.,suche.aolsvc.de|q,query|AOL>ask.jp,ask.co|q,ask|Ask>www.baidu.com|wd|Baidu>daum.net,search.daum.net|q|Daum>icqit.com|q|icq>myway.com|searchfor|MyWay.com>naver.com,search.naver.com|query|Naver>netscape.com|query,search|Netscape Search>reference.com|q|Reference.com>seznam|w|Seznam.cz>abcsok.no|q|Startsiden>tiscali.it,www.tiscali.co.uk|key,query|Tiscali>virgilio.it|qs|Virgilio>yandex|text|Yandex.ru>search.cnn.com|query|CNN Web Search>search.earthlink.net|q|Earthlink Search>search.comcast.net|q|Comcast Search>search.rr.com|qs|RoadRunner Search>optimum.net|q|Optimum Search",s.crossVisitParticipation=new Function("v","cn","ex","ct","dl","ev","dv","var s=this,ce;if(typeof(dv)==='undefined')dv=0;if(s.events&&ev){var ay=s.split(ev,',');var ea=s.split(s.events,',');for(var u=0;u<ay.length;u++){for(var x=0;x<ea.length;x++){if(ay[u]==ea[x]){ce=1;}}}}if(!v||v==''){if(ce){s.c_w(cn,'');return'';}else return'';}v=escape(v);var arry=new Array(),a=new Array(),c=s.c_r(cn),g=0,h=new Array();if(c&&c!=''){arry=s.split(c,'],[');for(q=0;q<arry.length;q++){z=arry[q];z=s.repl(z,'[','');z=s.repl(z,']','');z=s.repl(z,\"'\",'');arry[q]=s.split(z,',')}}var e=new Date();e.setFullYear(e.getFullYear()+5);if(dv==0&&arry.length>0&&arry[arry.length-1][0]==v)arry[arry.length-1]=[v,new Date().getTime()];else arry[arry.length]=[v,new Date().getTime()];var start=arry.length-ct<0?0:arry.length-ct;var td=new Date();for(var x=start;x<arry.length;x++){var diff=Math.round((td.getTime()-arry[x][1])/86400000);if(diff<ex){h[g]=unescape(arry[x][0]);a[g]=[arry[x][0],arry[x][1]];g++;}}var data=s.join(a,{delim:',',front:'[',back:']',wrap:\"'\"});s.c_w(cn,data,e);var r=s.join(h,{delim:dl});if(ce)s.c_w(cn,'');return r;"),s.getAndPersistValue=new Function("v","c","e","var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if(v)s.c_w(c,v,e?a:0);return s.c_r(c);"),s.getDaysSinceLastVisit=new Function("c","var s=this,e=new Date(),es=new Date(),cval,cval_s,cval_ss,ct=e.getTime(),day=24*60*60*1000,f1,f2,f3,f4,f5;e.setTime(ct+3*365*day);es.setTime(ct+30*60*1000);f0='Cookies Not Supported';f1='First Visit';f2='More than 30 days';f3='More than 7 days';f4='Less than 7 days';f5='Less than 1 day';cval=s.c_r(c);if(cval.length==0){s.c_w(c,ct,e);s.c_w(c+'_s',f1,es);}else{var d=ct-cval;if(d>30*60*1000){if(d>30*day){s.c_w(c,ct,e);s.c_w(c+'_s',f2,es);}else if(d<30*day+1 && d>7*day){s.c_w(c,ct,e);s.c_w(c+'_s',f3,es);}else if(d<7*day+1 && d>day){s.c_w(c,ct,e);s.c_w(c+'_s',f4,es);}else if(d<day+1){s.c_w(c,ct,e);s.c_w(c+'_s',f5,es);}}else{s.c_w(c,ct,e);cval_ss=s.c_r(c+'_s');s.c_w(c+'_s',cval_ss,es);}}cval_s=s.c_r(c+'_s');if(cval_s.length==0) return f0;else if(cval_s!=f1&&cval_s!=f2&&cval_s!=f3&&cval_s!=f4&&cval_s!=f5) return '';else return cval_s;"),s.getNewRepeat=new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),s.getPercentPageViewed=new Function("n","var s=this,w=window,L=w.addEventListener||0,A=w.attachEvent||0,E=['load','unload','scroll','resize','zoom','keyup','mouseup','touchend','orientationchange','pan'];w.s_Obj=s;s_PPVid=(n=='-'?s.pageName:n)||s.pageName||location.href;if(!w.s_PPVevent){s.s_PPVg=function(n,r){var k='s_ppv',p=k+'l',c=s.c_r(n||r?k:p),a=c.indexOf(',')>-1?c.split(',',10):[''],L=a.length,i=0;a[0]=unescape(a[0]);r=r||(n&&n!=a[0])||0;while(++i<9)a[i]=!r&&i<L?parseInt(a[i])||0:0;if(L<10)a[9]='';if(r){s.c_w(p,c);s.c_w(k,'?')}return a};w.s_PPVevent=function(e){var w=window,s=w.s_Obj||w.s||0;e=e&&typeof e=='object'?e.type||'':'';if(!e.indexOf('on'))e=e.substring(2);s_PPVi=w.s_PPVi||0;if(w.s_PPVt&&!e){clearTimeout(s_PPVt);s_PPVt=0;if(s_PPVi<2)s_PPVi++}if(typeof s=='object'){var D=document,B=D.body,E=D.documentElement||B,G=D.getElementsByTagName('body')[0],H='clientHeight',T='scrollTop',C=100,h=Math.max(E[H]||0,G[H]||0,B[H]||0),X=E.clientWidth||w.innerWidth||0,Y=E[H]||w.innerHeight||0,x=w.screen?screen.width:0,y=w.screen?screen.height:0,r=Math.round(C*(w.devicePixelRatio||1))/C,b=(D.pageYOffset||E[T]||G[T]||0)+Y,p=h>0&&b>0?Math.round(C*b/h):0,l=e=='load'||s_PPVi<1,O=w.orientation,o=typeof O=='number'?Math.abs(o)%180:(y>x?0:90),a=s.s_PPVg(s_PPVid,l),V=function(i,v,f,n){i=parseInt(typeof a=='object'&&a.length>i?a[i]:'0')||0;v=typeof v!='number'?i:v;v=f||v>i?v:i;return n?v:v>C?C:v<0?0:v};if(new RegExp('(iPod|iPad|iPhone)').exec(navigator.userAgent||'')&&o){O=x;x=y;y=O}o=o?'P':'L';a[9]=l?'':a[9].substring(0,1);s.c_w('s_ppv',escape(w.s_PPVid)+','+V(1,p,l)+','+(l||!V(2)?p:V(2))+','+V(3,b,l,1)+','+X+','+Y+','+x+','+y+','+r+','+a[9]+(a[9]==o?'':o))}if(!w.s_PPVt&&e!='unload')w.s_PPVt=setTimeout(w.s_PPVevent,333)};for(var f=w.s_PPVevent,i=0;i<E.length;i++)if(L)L(E[i],f,false);else if(A)A('on'+E[i],f);f()};var a=s.s_PPVg();return!a[0]?'':n==''||n=='-'?a[1]:a"),s.getPreviousValue=new Function("v","c","el","var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}"),s.getTimeParting=new Function("h","z","var s=this,od;od=new Date('1/1/2000');if(od.getDay()!=6||od.getMonth()!=0){return'Data Not Available';}else{var H,M,D,U,ds,de,tm,da=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],d=new Date();z=z?z:0;z=parseFloat(z);if(s._tpDST){var dso=s._tpDST[d.getFullYear()].split(/,/);ds=new Date(dso[0]+'/'+d.getFullYear());de=new Date(dso[1]+'/'+d.getFullYear());if(h=='n'&&d>ds&&d<de){z=z+1;}else if(h=='s'&&(d>de||d<ds)){z=z+1;}}d=d.getTime()+(d.getTimezoneOffset()*60000);d=new Date(d+(3600000*z));H=d.getHours();M=d.getMinutes();M=(M<10)?'0'+M:M;D=d.getDay();U=' AM';if(H>=12){U=' PM';H=H-12;}if(H==0){H=12;}D=da[D];tm=H+':'+M+U;return(tm+'|'+D);}"),s.getValOnce=new Function("v","c","e","t","var s=this,a=new Date,v=v?v:'',c=c?c:'s_gvo',e=e?e:0,i=t=='m'?60000:86400000,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e==0?0:a);}return v==k?'':v"),s.apl=new Function("l","v","d","u","var s=this,m=0;if(!l)l='';if(u){var i,n,a=s.split(l,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)l=l?l+d+v:v;return l"),s.join=new Function("v","p","var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back:'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0;x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);else str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;"),s.p_c=new Function("v","c","var x=v.indexOf('=');return c.toLowerCase()==v.substring(0,x<0?v.length:x).toLowerCase()?v:0"),s.repl=new Function("x","o","n","var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x.substring(i+o.length);i=x.indexOf(o,i+l)}return x"),s.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),d.getInstance=e,window.s_objectID||(window.s_objectID=0),f();var C=function(a){var b;return"localStorage"in window&&null!==window.localStorage&&(b=window.localStorage.getItem(a)),b},D=function(){/PhantomJS/.test(navigator.userAgent)||C("m_debug")&&window.console&&console.log(arguments)},E=i.nb||[];if(E.pop){var F=/(\?|\&)nbd=1($|\&)/.test(location.search);if(F){var G=document.createElement("script");G.src="//tags.news.com.au/prod/ntag/nbv.js",document.getElementsByTagName("head")[0].appendChild(G)}i.nb={push:function(a){var b,c=a[0],d=a[1],e=this.l[c]=this.l[c]||[],f=this.o[c]=this.o[c]||[];if("function"==typeof d)for(e.push(d),b=0;b<f.length;b++)if(F)d(f[b]);else try{d(f[b])}catch(g){i.console&&console.log(g.message||g)}else{for(b=0;b<e.length;b++)if(F)e[b](d);else try{e[b](d)}catch(g){i.console&&console.log(g.message||g)}f.push(d)}return this},l:{},o:{}};for(var H=0;H<E.length;H++)i.nb.push(E[H])}var I=document;document.getElementsByClassName||(document.getElementsByClassName=function(a){var b,c,d,e=document,f=[];if(e.querySelectorAll)return e.querySelectorAll("."+a);if(e.evaluate)for(c=".//*[contains(concat(' ', @class, ' '), ' "+a+" ')]",b=e.evaluate(c,e,null,0,null);d=b.iterateNext();)f.push(d);else for(b=e.getElementsByTagName("*"),c=new RegExp("(^|\\s)"+a+"(\\s|$)"),d=0;d<b.length;d++)c.test(b[d].className)&&f.push(b[d]);return f});var J=function(a){for(var b=[],c=I.getElementsByClassName(a),d=0;d<c.length;++d)b.push(c[d]);return b},K=function(a){for(var b=Array.prototype.slice.call(arguments,1),c=0;c<b.length;c++)for(var d in b[c])a[d]=b[c][d];return a},L=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},M=function(a){var b=i.location.hash||"#";b.length&&"#"==b[0]&&(b=b.substr(1));for(var c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e&&e.length&&e[0]===a)return decodeURIComponent(e[1])}return void 0},N=[1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,39,40,41,46,47,51,70,71,72,73,74],O=function(a,b){b&&(a.linkTrackVars=a.linkTrackVars||"",linkTrackVars=a.linkTrackVars.split(","));for(var c=0;c<N.length;c++){var d="eVar"+N[c],e="prop"+N[c];!a[d]||b&&-1==L(linkTrackVars,d)||(a[e]=a[e]||"D=v"+N[c],b&&-1==L(linkTrackVars,e)&&linkTrackVars.push(e))}return b&&(a.linkTrackVars=linkTrackVars.join(",")),a},P=function(a,b){return 0===a.lastIndexOf(b,0)},Q=function(a){var b,c=[],d=[];for(b in a)P(b,"event")?c.push(b+"="+a[b]):P(b,"eVar")&&d.push(b+"="+a[b]);var e=""+(a.category?a.category:"")+";"+a.name;return void 0!==a.total?e+=";"+(a.quantity||1)+";"+a.total:(c.length||d.length)&&(e+=";;"),(c.length||d.length)&&(e+=";"+c.join("|")),d.length&&(e+=";"+d.join("|")),e},R=function(a,b){var c=[(a.siteShort||"")+(/msite/i.test(a.eVar3)?"m":""),a.eVar4,b,a.contentType,a.title];return c.join("|")},S=function(a){var b=a.itm||{},c=[b.container,b.order,b.label];return R(a,c.join("|"))},T=["linkName","purchaseID","currencyCode","state","zip","pageType","transactionID","list1","list2","list3"],U=function(a,b){if(!a)return{};if(a.processed)return a;for(var c,d={},e=[],f=0;f<T.length;f++)c=T[f],a[c]&&(d[c]=a[c],e.push(c));for(f=1;100>=f;f++)c="eVar"+f,a[c]&&(d[c]=a[c],e.push(c)),c="prop"+f,a[c]&&(d[c]=a[c],e.push(c));var g=a.events||{};if(g instanceof Array){var h={};for(f=0;f<g.length;f++)h[g[f]]=null;g=h}a.event&&(g[a.event]=g[a.event]||null),a.itm&&(d.itm=a.itm,e.push("eVar23,prop23"),g.event10=null);var i=[],j=[];for(f in g)j.push(f),i.push(null===g[f]?f:f+":"+g[f]);i.length&&(d.events=i.join(","),b&&(d.linkTrackEvents=j.join(",")),e.push("events"));var k=a.products||[];a.product&&k.push(a.product);var l=[];for(f=0;f<k.length;f++)l.push(Q(k[f]));return l.length&&(d.products=l.join(","),e.push("products")),b&&(d.linkTrackVars=e.join(",")),d.processed=!0,K(d,a.s)},V=function(){var a=window.navigator.plugins,b=a["Shockwave Flash"]?a["Shockwave Flash"].description+";":"";if(a&&"object"==typeof a)for(var c=0;c<a.length;c++)b+=a[c].name,b+=a.length-1>c?";":"";return b},W=function(){for(var a=[{}],b=[],c=[],d=[],e=[],f=0;f<arguments.length;f++){var g=arguments[f]||{};a.push(g);for(var h=(g.events||"").split(","),i=0;i<h.length;i++){var j=h[i].split("=")[0];h[i]&&-1==L(e,j)&&(b.push(h[i]),e.push(j))}var k=(g.linkTrackEvents||"").split(",");for(i=0;i<k.length;i++)k[i]=k[i].replace(/=.*/,""),k[i]&&-1==L(d,k[i])&&d.push(k[i]);var l=(g.linkTrackVars||"").split(",");for(i=0;i<l.length;i++)l[i]&&-1==L(c,l[i])&&c.push(l[i])}a.push({events:b.join(","),linkTrackEvents:d.join(","),linkTrackVars:c.join(",")});var m=K.apply(null,a);return m.itm&&(m.eVar23=S(m),m.prop23="D=v23"),m.eVar25&&(m.eVar25=R(m,m.eVar25)),m},X=function(a){for(var b=1;100>b;b++)if(16!=b&&13!=b&&41!=b){var c="prop"+b;10!=b&&a[c]&&a[c].toLowerCase&&(a[c].length<=2||"D="!==a[c].substr(0,2))&&(a[c]=a[c].toLowerCase());var d="eVar"+b;34!=b&&38!=b&&a[d]&&a[d].toLowerCase&&(a[d].length<=2||"D="!==a[d].substr(0,2))&&(a[d]=a[d].toLowerCase())}return a},Y=function(){for(var a=J(p.ad_class||"ad-block"),b=[],c={},d=J("ad-halfpage"),e=0;e<d.length;e++)(" "+d[e].className+" ").match(/ ad-block /i)||a.push(d[e]);for(e=0;e<a.length;e++)for(var f=a[e].className.split(" "),g=0;g<f.length;g++)if("ad-block"!==f[g]&&f[g].match(/(ad-[a-zA-z\-]+)/i)){var h=f[g].substr(3);if("custom"===h){var i=a[e].getAttribute("data-ad-width"),j=a[e].getAttribute("data-ad-height");i&&j&&(h+="-"+i+"-"+j)}c[h]||(c[h]=0),c[h]++,b.push(h+":"+c[h])}return b},Z=function(){if(p.intads_items&&"undefined"!=typeof p.intads_items){var a=p.intads_items,b="";for(var c in a){var d=Object.keys(a),e=d[d.length-1];b+=c+":"+a[c],c!=e&&(b+="|")}return b}},$=function(a){var b=function(){var b=i.newscdn.envoy.config("identity");b&&b.aclResponse?a():i.newscdn.envoy.subscribe("envoy/identity/user/details",a)};i.newscdn&&i.newscdn.envoy?b():i.envoy_config||i._envq?(i._envq=i._envq||[],i._envq.push(b)):a()},_=function(a){var b=function(b){var c={memtype:b.memtype,pcsid:b.userDetails&&b.userDetails.sid,authProvider:b.userDetails&&b.userDetails.authProvider};na(c,a)};if(i.newscdn&&i.newscdn.envoy){var c=i.newscdn.envoy.config("identity");c&&c.aclResponse?b(c.aclResponse):i.newscdn.envoy.subscribe("envoy/identity/user/details",b)}else i._envq=i._envq||[],i._envq.push(function(){var a=i.newscdn.envoy.config("identity");a&&a.aclResponse?b(a.aclResponse):i.newscdn.envoy.subscribe("envoy/identity/user/details",b)})},aa=function(){var a={osca:{price:46,desc:47,promocode:48,postcode:49},bs:{cache:57},bs_er:{loggedin:46,category:58},br:{recipe_id:48,recipe_name:49,search_term:50,search_page:51},sp:{cag_max:46,cag_med:47,cag_min:48,pagetype:49,countersubtag:50,countertag:51,gameday_verticle:52,mcc:53,ads:54,ads_string:55,agegrp:56,busunit:57,clubid:58,country:59,eid:60,etid:61,leagueid:62,leaguename:63,lga:64,prod:65,sportcode:66,sportname:67,state:68,gamedaysubject:69,gender:70,pc:71,participant_age:72,ga_account:73,ga_url:74},del:{package_definition:50,newsletter_reg_type:54},nlm:{gallery_id:37,gallery_pubdate:38,gallery_byline:36,collection_id:68,collection_name:69,recipe_id:48,recipe_name:49,hub:61,recipe_source:62,zones:71,destinations:72,retailer:73}},b=["nlm"],c={};for(var d in a)for(var e in a[d]){var f=(b.indexOf(d)<0?"ss_":"")+d+"_"+e,g=a[d][e];f in p&&p[f]&&(c["eVar"+g]=p[f],c["prop"+g]="D=v"+g)}return c},ba=function(){if(i.performance&&"undefined"!=typeof i.performance){var a=i.performance.timing.navigationStart,b=(new Date).getTime(),c=Math.round((b-a)/100);return c}},ca=function(){if(!i.newskey||"undefined"==typeof i.newskey)return"not available";var a,b=i.newskey.geo||{},c=[];for(a in b)c.push(b[a]);return c.join("|")},da=function(){if("undefined"!=typeof p.adobe.tnt||"undefined"!=typeof p.tnt){var a,b=p.adobe.tnt||p.tnt||"",c=[];if("string"==typeof b)return"not set";for(a in b)c.push(b[a]);return c.join("|")}};j.hb=function(){var a=["pageName","eVar1","eVar2","eVar3","eVar4","eVar5","eVar6","eVar7","eVar8","eVar9","eVar10","eVar11","eVar12","eVar14","eVar15","eVar16","eVar17","eVar18","eVar19","eVar20","eVar22","eVar24","eVar34","eVar77","prop1","prop2","prop3","prop4","prop5","prop6","prop7","prop8","prop9","prop10","prop11","prop12","prop14","prop15","prop16","prop17","prop18","prop19","prop20","prop22","prop24","prop34"];return a};var ea=function(){var a=document.location.search.split("/"),b=a[a.length-1],c=a[a.length-3],d=a[3],e=a[2].split(".");e="www"===e[0]?e[1]:e[0];var f={id:b.substring(0,32),name:c.replace(/\-/g," "),section:d.replace(/\-/g," "),domain:e};return D(f),f},fa={},ga=function(){var a,b,c=i.utag_data||{},d=(c.url||i.location.toString(),j.s.Util.getQueryParam),e=[],f="",g=c.net_content_type||c.contyp;if(g){var h={},k=[],l=g.split("+");for(a=0;a<l.length;a++)h[l[a]]=1;for(var m in h)k.push(m);b=k.join("+"),f=l[l.length-1]}var n=[c.net_sec1||c.net_section||c.section,c.net_sec2||c.net_subsec||c.subsection,c.net_sec3||c.net_subsubsec||c.subsubsection,c.net_sec4||c.net_subsubsubsec||c.subsubsubsection,c.net_sec5||c.net_subsubsubsubsec,c.net_sec6];/story/i.test(f)&&/^home$/i.test(n[0])&&(n[0]="news"),c.collapse_section==n[0]&&n.shift();var o=c.analytics_extra_section;o&&o!=n[0]&&(n.unshift(o),n.length>6&&n.pop());var p=c.net_pn||c.pn,r=c.pc_conttyperule||c.pcconttyperule;r="none"===r?"not set":r;var t,u,v;try{_("pcsid_alt");var w=pa("pcsid_alt");t=w.pcsid,u=w.memtype,v=w.authProvider}catch(x){}t=t||c.pc_pcsid||c.pcsid,u="anonymous"!=u?u||c.pc_memtype||c.pcmemtype:c.pc_memtype||c.pcmemtype||u,v=v||i.ndm&&ndm.cam&&ndm.cam.userDetails&&ndm.cam.userDetails.authProvider,t=null===t||"0"===t||"none"===t?"not set":t,u="none"===u?"not set":u;var y=c.site||c.net_site;q!==c.analytics_account&&(y=c.brand+" Msite"),fa={channel:"D=v4",eVar1:"News Corp AU",eVar2:c.brand||c.net_site,eVar3:y,eVar4:n[0],eVar5:n[1],eVar6:n[2],eVar7:n[3],eVar8:n[4],eVar9:b,eVar10:"D=pageName",prop10:"D=g",eVar34:"D=g",eVar11:"D=vid",eVar12:t,eVar14:u,eVar15:r,eVar77:"D=mid",siteShort:c.site_short||c.net_site,contentType:f,charSet:"UTF-8"};var z=M("itm");if(z){var A=M("itmt");A=/[0-9]+/.test(A)?parseInt(A,10):null;var B=(new Date).getTime();(!A||Math.abs(B-A)<=3e4)&&(fa.eVar23=z)}else{var C=M("itm_site")||M("itm_s"),E=M("itm_con")||M("itm_c"),F=M("itm_order")||M("itm_o"),G=M("itm_label")||M("itm_l"),H=M("itm_type")||M("itm_t");(F||E||F||G||C)&&(z=[C,"",E,F,G,H,""].join("|"),fa.eVar23=z)}X(fa),e.push("event1"),fa.eVar23&&e.push("event10");var I=[1,2,3,4,5,6,7,8,9,10,11,12,14,15,16,17,18,19,20,22,24,34,66,77,91],J=["events"];for(a=0;a<I.length;a++)J.push("eVar"+I[a]);fa.linkTrackVars=J.join(","),fa.linkTrackEvents="event8",e.push("event8");var L="",N="";for(a=1;8>=a;a++){var O=fa["eVar"+a];if(!O)break;L&&(L+="|"),L+=O,a>=5&&(N&&(N+="-"),N+=O)}fa.hier1=L;var P=c.sops_source_code||d("sourceCode");P&&(fa.eVar13=P);var Q=c.sops_subscription_pkg||d("pkgDef");if(Q&&(fa.eVar38=Q),g&&-1!=g.search("story")){fa.eVar16=c.net_article_id,fa.eVar17=c.net_article_headline,fa.eVar18=c.net_article_byline,fa.eVar19=c.net_article_source,fa.eVar20=c.net_article_date;var R=c.net_article_updated_time;R&&(fa.eVar50=R,fa.prop50="D=v50"),e.push("event2")}c.internal_search_term&&(fa.eVar28=c.internal_search_term),c.ss_bs_er_author&&(fa.eVar18=c.ss_bs_er_author),(c.pg_auto_refresh||c.autorefresh)&&e.push("event12"),u&&("anonymous"===u?fa.eVar46="not logged in":fa.eVar46="logged in");var S=j.s.Util.cookieRead("metrics_pcsid");if(S&&t&&"not set"!=t&&t!=S&&(v?(e.push("event5"),fa.eVar27=v):e.push("event4")),t)try{var T=new Date;T.setMonth(T.getMonth()+12),j.s.Util.cookieWrite("metrics_pcsid",t,T)}catch(x){}fa.prop45=i.innerWidth>=i.innerHeight?"landscape":"portrait";var $=Y();$.length&&(e.push("event17="+$.length),e.push("event18"),fa.list1=$.join("|"));var ga;if("index"===f||"digitaledition"===f)ga=N;else if(c.net_article_headline)ga=c.net_article_headline;else if("gallery"===f&&c.gallery_name){var ha=[c.gallery_name,c.gallery_image_number,c.gallery_total_images];ga=ha.join(":"),fa.eVar39=ha.join("|")}else if(p){var ia=/[^\|]* \| [^\|]* \| [^\|]* \| (.*)/.exec(p);ga=ia?ia[1]:p}else ga=i.document.title;for(fa.title=ga,fa.pageName=[fa.siteShort,n[0],f,ga].join("|").toLowerCase(),utmParts=[],utmParts.push(d("utm_medium")||""),utmParts.push(d("utm_source")||""),utmParts.push(d("utm_campaign")||""),utmParts.push(d("utm_content")||""),a=0;a<utmParts.length;a++)if(utmParts[a]){fa.campaign=utmParts.join("{");break}var ja=d("utm_cmpn");for(ja&&"undefined"!=typeof ja&&(fa.campaign=ja),intParts=[],intParts.push(d("int_medium")||""),intParts.push(d("int_source")||""),intParts.push(d("int_campaign")||""),intParts.push(d("int_content")||""),a=0;a<intParts.length;a++)if(intParts[a]){fa.eVar30=intParts.join("{");break}var ka=d("int_cmpn");ka&&"undefined"!=typeof ka&&(fa.eVar30=ka),c.sops_shopfront&&"undefined"!=typeof c.sops_shopfront&&(fa.eVar35=c.sops_shopfront,fa.prop35="D=v35"),/taste/.test(fa.siteShort)&&(fa.eVar47=location.pathname,fa.prop47="D=v47"),i.document.getElementById("fx-scorecentre")&&(fa.eVar49=fa.prop49="D=v3"),c.abt&&"undefined"!=typeof c.abt&&(fa.eVar51=c.abt,fa.prop51="D=v51"),c.net_template&&"undefined"!=typeof c.net_template&&(fa.eVar53=c.net_template,fa.prop53="D=v53");var ma=d("mid");if(/^[0-9]+$/.test(ma)&&(fa.eVar54=ma),(c.net_sub_uid_hit||c.net_sub_uid)&&(fa.eVar55=c.net_sub_uid?c.net_sub_uid:c.net_sub_uid_hit),c.error_404&&(fa.pageType="errorPage",fa.pageName="error page"),"foxsp"!==c.site_short&&"busspec"!==c.site_short){var na=la()?i.localStorage.getItem("disc.mkt_usg"):!1;na&&(fa.eVar58=na,fa.prop58="D=v58"),fa.eVar76=V()?V():"No Plugins",fa.prop76="D=v76"}if(ba()&&(s.eVar60=ba(),s.prop60="D=v60",e.push("event63="+ba())),c.net_hash&&"undefined"!=typeof c.net_hash&&c.net_hash.indexOf(".")&&(fa.eVar64=c.net_hash),c.prev_cbd&&"undefined"!=typeof c.prev_cbd){var oa="",qa=c.prev_cbd.match(/.{1,1}/g);for(a=0;a<qa.length;a++)oa+="0"===qa[a]?"true":"false",oa+=qa.length-1>a?":":"";fa.eVar65="true:"+oa,fa.prop65="D=v65",e.push("event65")}else fa.eVar65="false",fa.prop65="D=v65";if(c.net_article_origin&&"undefined"!=typeof c.net_article_origin&&(fa.eVar70=c.net_article_origin),c.net_article_originid&&"undefined"!=typeof c.net_article_originid&&(fa.eVar71=c.net_article_originid),c.net_article_origin_assestid&&"undefined"!=typeof c.net_article_origin_assestid&&(fa.eVar72=c.net_article_origin_assestid),c.net_article_origin_pudate&&"undefined"!=typeof c.net_article_origin_pudate&&(fa.eVar73=c.net_article_origin_pudate),c.net_article_origin_channel&&"undefined"!=typeof c.net_article_origin_channel&&(fa.eVar74=c.net_article_origin_channel),i.newskey&&"undefined"!=typeof i.newskey&&(fa.eVar78=ca()),document.querySelectorAll&&"undefined"!=typeof document.querySelectorAll){var ra=document.querySelectorAll(".ad-unruly");ra.length>0&&e.push("event80")}if("video"===c.site_short&&e.push("event52"),c.intads_items&&"undefined"!=typeof c.intads_items&&(fa.eVar66=Z()),c.sops_breach&&"undefined"!=typeof c.sops_breach){var sa=ea();fa.eVar81=sa.id||"",fa.eVar82=sa.name||"",fa.eVar83=sa.section||"",fa.eVar84=sa.domain||""}da()&&"undefined"!=typeof da()&&(fa.eVar91=da()),D(c.adobe);var ta=aa();fa.events=e.join(","),fa=W(fa,ta,U(mconfig)),fa=X(fa),j.defaults=fa,K(j.s,fa);var ua=j.defaultsReady||[];for(j.defaultsReady={push:function(a){a(j)}},a=0;a<ua.length;a++)ua[a](j)};mready.unshift(ga);var ha,ia=function(a){var b="";for(var c in a){var d=Object.keys(a),e=d[d.length-1];b+=a[c],c!=e&&(b+="|")}return b},ja={"cc:breach:view":3,"cc:subscription:start":19,"cc:subscription:paypal express":26,"cc:subscription:your details":20,"cc:subscription:payment details":21,"cc:subscription:address details":23,"cc:subscription:demographics":24,"cc:subscription:terms and conditions":25,"cc:subscription:complete":16,"cc:subscription:exit popup":28,"cc:subscription:exit popup cta":29,"cc:subscription:verify your mobile":30,"adblocker:loaded":3,"adblocker:login":9,"adblocker:subscribe":9,"adblocker:how-to-whitelist":9,"adblocker:whitelist":9,"intads:engagement":100,"taus:engagement:cut":101,"taus:engagement:copy":102,"taus:engagement:paste":103,"leapfrog:cancel":120,"leapfrog:classification":121,"leapfrog:continue":122,"leapfrog:design":123,"leapfrog:edit":124,"leapfrog:forgot password":125,"leapfrog:logout":126,"leapfrog:new order":127,"leapfrog:pillar":128,"leapfrog:plan":129,"leapfrog:privacy":130,"leapfrog:publication":131,"leapfrog:sms":132,"leapfrog:terms":133},ka=function(a){return function(b){mready.push(function(c){var d=[101,102,103],e={events:["event"+a]},f=p.sops_customer_type;f&&(e.eVar36=f,e.prop36="D=v36"),b&&b.pcsid&&(e.eVar12=b.pcsid),b&&b.memtype&&(e.eVar14=b.memtype),b&&b.adblocker&&(e.eVar21=b.adblocker,e.prop21="D=v21"),b&&b.engagement&&(e.eVar25=b.engagement,e.prop25="D=v25"),b&&b.breachType&&(e.eVar21=b.breachType,e.prop21="D=v21"),b&&b.campaignID&&(e.eVar67=ia(b)),b&&b.leapfrog&&(e.eVar25=b.leapfrog,e.prop25="D=v25"),D(b),D(a),d.indexOf(a)>-1?c.npv(e):c.ev(e)})}};for(ha in ja)i.nb.push([ha,ka(ja[ha])]);var la=function(){if(!("localStorage"in i&&null!==i.localStorage))return!1;var a=i.localStorage;try{return a.setItem("metrics_test","1"),a.removeItem("metrics_test"),!0}catch(b){return!1}},ma="metrics_npv",na=function(a,b,c){if(i.JSON)if(!c&&la()){var d=i.localStorage;d.setItem(b||ma,JSON.stringify(a))}else{var e=new Date;e.setFullYear(e.getFullYear()+1),j.s.Util.cookieWrite(b||ma,JSON.stringify(a),e)}},oa=function(a,b,c){if(i.JSON){var d;if(!b&&la()){var e=i.localStorage;d=e.getItem(a||ma),c&&e.removeItem(a||ma)}else d=j.s.Util.cookieRead(a||ma),c&&j.s.Util.cookieWrite(a||ma,"",new Date(0));try{return d?JSON.parse(d):{}}catch(f){return{}}}return{}},pa=function(a,b){return oa(a||ma,b,!0)},qa=function(){var a=document.getElementById("module-comment-add-form");if(a){var b=function(a){var b=this;a.preventDefault(),j.ev({events:["event11"]}),setTimeout(function(){b.submit()},100)};a.addEventListener?a.addEventListener("submit",b,!1):a.attachEvent&&a.attachEvent("onsubmit",b)}};mready.push(qa);var ra=p.disable_pageview,sa={};j.pv=function(a,b){if(n=!0,j.s.account){b&&ga(),a=a||{};var c=W(fa,U(mconfig),pa(),sa,U(a));c=O(c),c=X(c),nb.push(["metrics:send",c]),s.abort=!1;var d=j.s.t(c);d&&document.write(d),ra=!0,sa={}}},j.ev=function(a,b){a=a||{};var c=W(fa,U(mconfig),O(U(a,!0),!0));if(/event3(\,|$)/.test(c.events)&&-1!=["casual breach","comments breach","polls breach"].indexOf(c.eVar21)&&-1!=["fox sports","the australian"].indexOf(c.eVar2)&&(c=W(c,U({event:"event13"},!0))),ra||b){if(!j.s.account)return;s.abort=!1,c=X(c),nb.push(["metrics:send",c]),j.s.tl(!0,"o",c.linkName||"event",c)}else sa=W(sa,c)};var ta=function(a){var b=a.hash.substring(0,1);b&&"undefined"!=typeof b&&(a.hash=a.hash.substring(1)),p.net_sec2=p.pn=a.hash,j.pv({},!0)};p.url_state_change&&"undefined"!=typeof p.url_state_change&&(i.onpopstate=function(a){var b={hash:i.location.hash||i.location.pathname,event:a};D(b),ta(b)});var ua=function(a){var b=/^(?:\w+:)?\/\//,c=b.test(a);if(!c)return!0;var d=a?a.replace(b,"").split(/[\/\#\?]/):[],e=d.length?d[0]:"";return e===i.location.host};j.npv=function(a,b){a=U(a);var c=W(fa,U(mconfig),a).eVar23;if(b&&!ua(b))return c?"itm="+encodeURIComponent(c)+"&itmt="+(new Date).getTime():"";delete a.itm,a.eVar23=c;var d=pa();return a=W({},d,a),na(a),null};var va=null,wa=function(){s.loadModule("Media"),va=s.Media,va.trackWhilePlaying=!0,s.Media.trackVars="events,eVar40,prop40,eVar41,prop41,eVar42,eVar43,eVar44,eVar45,prop42,"+j.s.linkTrackVars,s.Media.trackEvents="event8,event35,event36,event37,event38,event39,event40,event41,event42,event43,event44,event45,event46,event47,event48,event49,event50,event53,event54,event55,event64,event66",va.trackMilestones="",va.segmentByMilestones=!1,va.trackUsingContextData=!0,va.contextDataMapping={"a.media.milestones":{}},va.monitor=Aa},xa={},ya={},za=function(a,b){va.channel=(a.category||"").toLowerCase(),
b=W({},U({event:"event8"},!0),b),K(s,X(b)),nb.push(["metrics:send",b]),s.abort=!1,va.track(a.title)},Aa=function(a,b){a.abort=!0;var c=b.name;if(ya[c]){var d=ya[c];ya[c]=null,za(xa[c],d)}},Ba=function(a){var b=a.isPremium?"premium":"free";return{eVar40:a.title,eVar41:a.id,eVar42:a.source,eVar44:a.playorder,eVar45:b,prop42:b}},Ca=function(a,b,c){var d=a.title,e=b.offset;e&&(e/=1e3),e=e||0;var f=c?e:0;xa[d]=a;var g=Ba(a);b=W({},Da,O(U(g,!0),!0),O(U(b||{},!0),!0)),Da=!1,c&&(ya[d]=b),va.open(d,a.length||0,(a.player||"").toLowerCase()),va.play(d,f),c||(ya[d]=b),va.stop(d,e),va.close(d)},Da=!1,Ea=function(a,b){var c=Ba(a);Da=W({},Da,O(U(c,!0),!0),O(U(b,!0),!0))},Fa=function(a,b){j.npv(W({},O(U(b,!0),!0)))},Ga=function(a){return/fox/i.test(p.brand)},Ha=function(a,b,c){c=c||{};var d=c.offset||0,e=a.title;xa[e]=a,"unpause"==b?Ga(a)&&Ca(a,{event:"event50",offset:d}):"play"==b&&(La[e]?(Ca(a,{event:"event48",offset:d},!0),La[e]=!1):Ca(a,{event:c.autoplay?"event35":"event36",offset:d},!0))},Ia=function(a,b,c){c=c||{};var d=c.offset;d||0===d||(d=d||1e3*a.length||1e5);a.title;"pause"==b||"pause"==c.reason?Ga(a)&&Ca(a,{event:"event49",offset:d}):Ca(a,{event:"event40",offset:d})},Ja={mute:37,fullscreen:38,"autoplay pause":41,"autoplay off":42,"autoplay on":43,"ec autoplay on":53,"ec autoplay off":54},Ka=function(a,b,c){"share"==b?Ca(a,{event:"event46",eVar43:c}):Ja[b]&&Ca(a,{event:"event"+Ja[b]})},La={},Ma=function(a,b,c){La[a.title]=!0},Na=function(a,b,c){"list order"==b?Ea(a,{event:"event66"}):"time to play"==b?Ea(a,{event:"event45="+c}):"ready time"==b?Ea(a,{event:"event44="+c}):"discover"==b?Ga()||Ea(a,{event:"event47"}):"adFailed"==b?Ea(a,{event:"event55"}):"replay"==b?Ea(a,{event:"event48"}):"adTimeout"==b&&Ea(a,{event:"event64"})},Oa=function(a,b,c){"hub link"==b&&Fa(a,{eVar44:c})},Pa={play:Ha,unpause:Ha,pause:Ia,stop:Ia,"list order":Na,"ready time":Na,"time to play":Na,discover:Na,adFailed:Na,replay:Ma,"hub link":Oa,adTimeout:Na};j.vev=function(a,b,c){if(j.s.account&&!p.video_heartbeat){va||wa(),a=a||{},a.title=(a.title||"untitled").toLowerCase();var d=Pa[b];return d?d(a,b,c):Ka(a,b,c)}};var Qa=/^data-tgev-/,Ra=function(a){var b={};return[].forEach.call(a.attributes,function(a){if(Qa.test(a.name)){var c=a.name.replace(Qa,"");b[c]=a.value}}),b},Sa=function(a,b){"undefined"!=typeof a&&(window.mready=window.mready||[],window.mready.push(function(c){c[a](b)}),D(arguments))},Ta=function(){document.querySelector&&document.querySelector("body").addEventListener("click",function(a){var b=a.target,c=b.getAttribute("data-tgev");if(c&&c.length){var d=Ra(b);d&&d.social&&Sa(d.metric,{events:[c],eVar27:d.social}),d&&d.order&&Sa(d.metric,{events:[c],itm:{order:d.order,container:d.container,label:d.label}})}})};Ta();var Ua=function(){var a=mready;mready={push:function(a){try{a(j)}catch(b){m=""+b}}};for(var b=0;b<a.length;b++)mready.push(a[b]);p.disable_pageview||(j.pv(),j.complete=!0)},Va=function(){Xa&&(clearTimeout(Xa),Xa=null,Ua())},Wa=function(){Xa=null,Ua()},Xa=setTimeout(Wa,1e3);$(Va),!function(a){if("undefined"==typeof b)var b={};if("undefined"==typeof c)var c={};if("undefined"==typeof d)var d={};if(d.radio||(d.radio={}),d.plugin||(d.plugin={}),"undefined"==typeof e)var e={};e.clock||(e.clock={}),function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}a.md5=t}(b),function(a){"use strict";var b={};b.startsWith=function(a,b){return 0==a.indexOf(b)},a.StringUtils=b}(b),function(a){"use strict";var b={};b.clone=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},b.merge=function(a,c){var d=b.clone(a);for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return d},a.ObjectUtils=b}(b),function(a){"use strict";function b(a,b,c){this.fn=a,this.ctx=b,this.params=c}b.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},a.radio.Command=b}(d),function(a){"use strict";function b(a,b){this._queue=[],this._lastTs=0,this._isSuspended="undefined"!=typeof a?a:!1,this._delay="undefined"!=typeof b?b:0}b.prototype.addCommand=function(a){this._queue.push(a),this._drain()},b.prototype.cancelAllCommands=function(){this._queue=[]},b.prototype.isEmpty=function(){return 0===this._queue.length},b.prototype.suspend=function(){this._isSuspended=!0},b.prototype.resume=function(){this._isSuspended=!1,this._drain()},b.prototype.flush=function(){this._isSuspended=!1;for(var a=0;a<this._queue.length;a++){var b=this._queue[a];b.run()}this._queue=[]},b.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var a=this;!function b(){var c=a._queue.shift();c?a._runCommand(c,function(){a._isSuspended||b()}):a._drainInProgress=!1}()}},b.prototype._runCommand=function(a,b){function c(){a.run(),null!=b&&b.call(d)}var d=this;if(0==this._lastTs)c();else{var e=(new Date).getTime(),f=e-this._lastTs;this._lastTs=e,f<this._delay?setTimeout(c,this._delay-f):c()}},a.radio.CommandQueue=b}(d),function(a){"use strict";function b(a,b){if(this._name=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function c(a,c){if(a===c)return!0;for(var d=(a||"").split(b.SEPARATOR),e=(c||"").split(b.SEPARATOR),f=!0,g=0;g<d.length;g++)f=f&&(d[g]===b.WILDCARD||d[g]===e[g]);return f}b.WILDCARD="*",b.SEPARATOR=":",b.prototype.toString=function(){return"<channel: "+this._name+">"},b.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(d,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},b.prototype.on=function(a,b,c){this._isShutDown||(this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push({fn:b,ctx:c}))},b.prototype.off=function(a,b,c){if(!this._isShutDown){if(b="function"==typeof b?b:null,!a&&null==b&&!c)return void(this._listeners={});if(a)this._removeListener(a,b,c);else for(a in this._listeners)this._listeners.hasOwnProperty(a)&&this._removeListener(a,b,c)}},b.prototype.trigger=function(a){if(!this._isShutDown)for(var b in this._listeners)if(this._listeners.hasOwnProperty(b)&&c(b,a.name))for(var d=this._listeners[b].slice(0),e=0;e<d.length;e++){var f=d[e];f.fn.call(f.ctx,a)}},b.prototype.comply=function(a,b,c){this._isShutDown||(this._commands[a]={cmd:b,ctx:c})},b.prototype.command=function(a,b){if(!this._isShutDown){var c=this._commands[a];return c?void c.cmd.call(c.ctx,b):void this._logger.warn(d,"#command > No command handler for: "+a)}},b.prototype.reply=function(a,b,c){this._isShutDown||(this._requests[a]={fn:b,ctx:c})},b.prototype.request=function(a){if(!this._isShutDown){var b=this._requests[a];return b?b.fn.call(b.ctx):(this._logger.warn(d,"#request > No request handler for: "+a),null)}},b.prototype._removeListener=function(a,b,c){b="function"==typeof b?b:null;var d=this._listeners[a];if(d){if(!d.length||null==b&&!c)return void delete this._listeners[a];for(var e=0;e<d.length;e++){var f=d[e];null!==b&&b!==f.fn||c&&c!==f.ctx||this._listeners[a].splice(e,1)}}};var d="radio::Channel";a.radio.Channel=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._channels={}}var c=a.radio.Channel;b.prototype.channel=function(a){return this._channels[a]||(this._channels[a]=new c(a,this._logger)),this._channels[a]},b.prototype.shutdown=function(){for(var a in this._channels)this._channels.hasOwnProperty(a)&&this._channels[a].shutdown()},a.radio.Radio=b}(d),function(a){"use strict";function b(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a}a.extend=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){throw new Error("Implementation error: Method must be overridden.")},a.ILogWriter=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){window.console&&window.console.log&&window.console.log(a)},a.LogWriter=b}(d,c),function(a){"use strict";function b(){}b.prototype.setLogWriter=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.debug=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.info=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.warn=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.error=function(a,b){throw new Error("Implementation error: Method must be overridden.")},a.ILogger=b}(d),function(a){"use strict";function b(){this._logWriter=new d}function c(a){return 10>a?"00"+a:100>a?"0"+a:""+a}var d=a.LogWriter;b.prototype.setLogWriter=function(a){if(!a)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=a,this._enabled=!1},b.prototype.getLogWriter=function(){return this._logWriter},b.prototype.getEnabled=function(){return this._enabled},b.prototype.enable=function(){this._enabled=!0},b.prototype.disable=function(){this._enabled=!1},b.prototype.debug=function(a,b){this._log(a,f,b)},b.prototype.info=function(a,b){this._log(a,e,b)},b.prototype.warn=function(a,b){this._log(a,g,b)},b.prototype.error=function(a,b){this._log(a,h,b)},b.prototype._log=function(a,b,d){if(b==h||this._enabled){var e="",f=new Date;e+="["+f.toTimeString()+"."+c(f.getMilliseconds())+"] ["+b+"] ",e+="["+a+"] "+d,this._logWriter.write(e)}};var e="INFO",f="DEBUG",g="WARN",h="ERROR";a.Logger=b}(d),function(a){"use strict";function b(a,b){this._pluginName=a,this._eventName=b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getEventName=function(){return this._eventName},b.prototype.getName=function(){return this._pluginName+c.SEPARATOR+this._eventName},a.Trigger=b}(d),function(a){"use strict";function b(a,b){this.name=a,this.data=b}b.SUCCESS="success",b.ERROR="error",b.createFromTrigger=function(a){return new b(a.getName())},a.Event=b}(d),function(a){"use strict";function b(){this._events={}}b.prototype.addEventListener=function(a,b,c){a&&b&&(c=c||window,this._events[a]=this._events[a]||[],this._events[a].push({cb:b,ctx:c}))},b.prototype.removeEventListener=function(a,b,c){if(a&&b){c=c||window;var d,e,f=!1;for(e in this._events)if(a===e){f=!0;break}if(f){for(d=this._events[e].length-1;d>=0;d--){var g=this._events[e][d];b===g.cb&&c===g.ctx&&this._events[e].splice(d,1)}this._events[e].length||delete this._events[e]}}},b.prototype.dispatchEvent=function(a){if(a.name){var b,c;for(b in this._events)if(this._events.hasOwnProperty(b)&&a.name===b){var d=this._events[b],e=d.slice(0),f=e.length;for(c=0;f>c;c++)e[c].cb.call(e[c].ctx,a);break}}},b.prototype.removeAllListeners=function(a){if(a){var b,c;for(c in this._events)if(this._events.hasOwnProperty(c)){for(b=this._events[c].length-1;b>=0;b--){var d=this._events[c][b];d.ctx===a&&this._events[c].splice(b,1)}this._events[c].length||delete this._events[c]}}else this._events={}},a.EventDispatcher=b}(d),function(a){"use strict";function b(){}function c(a,b){this.url=a||null,this.method=b,this._xmlhttp=null}function d(){d.__super__.constructor.call(this),this._connection=null}var e=a.Event,f=a.EventDispatcher;b.GET="GET",d.RESPONSE="response",d.INSTANCE="instance",a.extend(d,f),d.prototype.close=function(){this.removeAllListeners(null)},d.prototype.load=function(a){a&&a.method&&a.url&&(a._xmlhttp=this._createCORSRequest(a),a._xmlhttp?a._xmlhttp.send():this._loadImage(a))},d.prototype._createCORSRequest=function(a){var b=null;if("undefined"!=typeof window.XMLHttpRequest){var c=new window.XMLHttpRequest;"withCredentials"in c&&(b=c,b.open(a.method,a.url,!0))}if(null==b&&"undefined"!=typeof window.XDomainRequest&&(b=new window.XDomainRequest,b.open(a.method,a.url)),b){var f={};f[d.INSTANCE]=this;var g=this;b.onload=function(){return b.status&&parseInt(b.status,10)>=400?this.onerror():(f[d.RESPONSE]=b.responseText,void g.dispatchEvent(new e(e.SUCCESS,f)))},b.onerror=function(){g.dispatchEvent(new e(e.ERROR,f))}}return b},d.prototype._loadImage=function(a){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=a.url;var b={};b[d.RESPONSE]="",b[d.INSTANCE]=this,this.dispatchEvent(new e(e.SUCCESS,b))},a.URLRequestMethod=b,a.URLRequest=c,a.URLLoader=d}(d),function(a){"use strict";var b="js",c="1.5.7.68",d="55a81f",e=4,f={};f.getVersion=function(){return b+"-"+c+"-"+d},f.getMajor=function(){return f.getNumberAtPosition(0)},f.getMinor=function(){return f.getNumberAtPosition(1)},f.getMicro=function(){return f.getNumberAtPosition(2)},f.getPatch=function(){return f.getNumberAtPosition(3)},f.getBuild=function(){return d},f.getApiLevel=function(){return e},f.getNumberAtPosition=function(a){return c.split(".")[a]},a.Version=f}(c),function(a){"use strict";function b(a,b){this._message=a,this._details=b}b.prototype.getMessage=function(){return this._message},b.prototype.getDetails=function(){return this._details},a.ErrorInfo=b}(c),function(a){"use strict";function b(){this.debugLogging=!1}a.HeartbeatConfig=b}(c),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.HeartbeatDelegate=b}(c),function(a){"use strict";function b(){}b.prototype.configure=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.bootstrap=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.resolveData=function(a){throw new Error("Implementation error: Method must be overridden.")},a.plugin.IPlugin=b}(d),function(a){"use strict";function b(a,b,c,d){this.trigger=a,this.action=c,this.plugin=b,this._paramMappings={},this.mergeParams(d)}var c=a.plugin.ParamMapping;b.prototype.mergeParams=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];this._paramMappings[c.getKeyName()]=c}},b.prototype.getParams=function(){var a=[];for(var b in this._paramMappings)this._paramMappings.hasOwnProperty(b)&&a.push(this._paramMappings[b]);return a},b.prototype.addParam=function(a){this._paramMappings[a.getKeyName()]=a},b.prototype.removeParam=function(a,b){var d=new c(a,b);this._paramMappings.hasOwnProperty(d.getKeyName())&&delete this._paramMappings[d.getKeyName()]},a.plugin.Behaviour=b}(d),function(a){"use strict";function b(a,b,d){this._pluginName=a,this._key=b,this._paramName=d||a+c.SEPARATOR+b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getKey=function(){return this._key},b.prototype.getKeyName=function(){return this._pluginName+c.SEPARATOR+this._key},b.prototype.getParamName=function(){return this._paramName},a.plugin.ParamMapping=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._plugins={},this._behaviours={},this._radio=new d(this._logger),this._dataChannel=this._radio.channel(g),this._ctrlChannel=this._radio.channel(h)}var c=a.Event,d=a.radio.Radio,e=a.radio.Channel,f=a.plugin.Behaviour;b.ERROR="error",b.prototype.addPlugin=function(a){var b=a.getName();this._plugins[b]&&this._logger.warn(i,"#addPlugin > Replacing plugin: "+b),this._plugins[b]=a,a.bootstrap(this)},b.prototype.setupPlugins=function(){for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].setup()},b.prototype.pluginExists=function(a){return!!this._plugins[a]},b.prototype.isPluginInitialized=function(a){return this._plugins[a]&&this._plugins[a].isInitialized()},b.prototype.on=function(a,b,c,d){this._dataChannel.on(a+e.SEPARATOR+b,c,d)},b.prototype.off=function(a,b,c,d){var f=a&&b?a+e.SEPARATOR+b:null;this._dataChannel.off(f,c,d)},b.prototype.trigger=function(a){var b=a.name,c=this._behaviours[b];if(c){var d,e,f,g,h,i={},j={};for(d=0;d<c.length;d++)if(f=c[d],g=f.getParams())for(e=0;e<g.length;e++)h=g[e],i[h.getPluginName()]=i[h.getPluginName()]||[],h.key in i[h.getPluginName()]||i[h.getPluginName()].push(h.getKey());for(var k in i)i.hasOwnProperty(k)&&(j[k]=this.request(k,i[k]));for(d=0;d<c.length;d++){f=c[d];var l={_behaviour:f,_eventData:a.data||{}};if(g=f.getParams()){for(e=0;e<g.length;e++)h=g[e],l[h.getParamName()]=j[h.getPluginName()]?j[h.getPluginName()][h.getKey()]:null;this.command(f.plugin.getName(),f.action,l)}}}this._dataChannel.trigger(a)},b.prototype.request=function(a,b){var c=this._plugins[a];return c&&b&&0!=b.length?c.resolveData(b):null},b.prototype.raise=function(a){this._errorInfo=a;var d=new c(b.ERROR,a);this._ctrlChannel.trigger(d)},b.prototype.getErrorInfo=function(){return this._errorInfo},b.prototype.destroy=function(){this._radio.shutdown();for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].destroy()},b.prototype.comply=function(a,b,c){this._dataChannel.comply(a.getName()+e.SEPARATOR+b,c,a)},b.prototype.command=function(a,b,c){this._dataChannel.command(a+e.SEPARATOR+b,c)},b.prototype.registerBehaviour=function(a,b,c,d){var e=a.getName(),g=new f(a,b,c,d);this._behaviours[e]=this._behaviours[e]||[],this._behaviours[e].push(g)};var g="data_channel",h="ctrl_channel",i="plugin::PluginManager";a.plugin.PluginManager=b}(d),function(a,b){"use strict";function c(a){this._name=a,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new d}var d=a.Logger,e=a.Trigger,f=a.Event,g=b.ErrorInfo;c.INITIALIZED="initialized",c.prototype.configure=function(a){},c.prototype.bootstrap=function(a){this._pluginManager=a,this._isDestroyed&&this._pluginManager.raise(new g("Invalid state.","Plugin already destroyed."))},c.prototype.setup=function(){this._trigger(c.INITIALIZED),this._isInitialized=!0},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},c.prototype.enable=function(){this._isEnabled=!0,this._enabled()},c.prototype.disable=function(){this._isEnabled=!1,this._disabled()},c.prototype.getName=function(){return this._name},c.prototype.getLogger=function(){return this._logger},c.prototype.isInitialized=function(){return this._isInitialized},c.prototype.resolveData=function(a){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,a);var b=null;if(a)for(var c=0;c<a.length;c++){var d=a[c];this._dataResolver.hasOwnProperty(d)&&(b=b||{},"function"==typeof this._dataResolver[d]?b[d]=this._dataResolver[d].call(this):b[d]=this._dataResolver[d])}return b},c.prototype.toString=function(){return"<plugin: "+this._name+">"},c.prototype._enabled=function(){},c.prototype._disabled=function(){},c.prototype._teardown=function(){},c.prototype._canProcess=function(){return this._isEnabled?this._isDestroyed?(this._logger.error(this._logTag,"Plugin destroyed."),!1):!0:(this._logger.error(this._logTag,"Plugin disabled."),!1)},c.prototype._trigger=function(a,b){var c=f.createFromTrigger(new e(this.getName(),a));c.data=b,this._pluginManager.trigger(c)},a.plugin.BasePlugin=c}(d,c),function(a){"use strict";function b(a,b,c){this.name=a,this.interval=b,this.isActive=!1,this.repeatCount="undefined"!=typeof c?c:e,this._nextTickTimestamp=0,this.reset()}function c(a,b){if(!a)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._timers={};var c=this;this._clock=window.setInterval(function(){c._onTick()},1e3*f)}b.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},b.prototype.shouldTick=function(){var a=(new Date).getTime();return a>this._nextTickTimestamp-f/2?(this.tick++,this._updateNextTickTimestamp(),!0):!1},b.prototype._updateNextTickTimestamp=function(){this._nextTickTimestamp=this._createdTimestamp+1e3*this.interval*(this.tick+1)},c.prototype.createTimer=function(a,c,d){this._timers[a]=new b(a,c,d)},c.prototype.destroyTimer=function(a){delete this._timers[a]},c.prototype.resumeTimer=function(a,b){b="undefined"!=typeof b?b:!1,this._logger.debug(d,"#resumeTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!0,b&&c.reset())},c.prototype.pauseTimer=function(a,b){b="undefined"!=typeof b?b:!1,this._logger.debug(d,"#pauseTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!1,b&&c.reset())},c.prototype.isTimerPaused=function(a){var b=this._timers[a];return b?!b.isActive:!1},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},c.prototype._onTick=function(){for(var a in this._timers)if(this._timers.hasOwnProperty(a)){var b=this._timers[a];b.isActive&&b.shouldTick()&&(b.interval>1&&this._logger.debug(d,"#_onTick() > "+b.name+"("+b.tick+" | "+b.repeatCount+")"),0!=b.repeatCount?(this._service.onTick(b.name,b.interval,b.tick),b.repeatCount!=e&&b.repeatCount--):this.destroyTimer(b.name))}};var d="service.clock::TimerManager",e=-1,f=.25;a.clock.TimerDescriptor=b,a.clock.TimerManager=c}(e),function(a,b,c){"use strict";function d(a){if(d.__super__.constructor.call(this,h),!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._timerManager=new e(this,this._logger),this._setupDataResolver()}var e=c.clock.TimerManager,f=b.StringUtils,g=a.plugin.BasePlugin;a.extend(d,g),d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._pluginManager.comply(this,i,this._cmdCreate),this._pluginManager.comply(this,k,this._cmdResume),this._pluginManager.comply(this,j,this._cmdPause),this._pluginManager.comply(this,l,this._cmdDestroy)},d.prototype._teardown=function(){this._timerManager.destroy()},d.prototype._cmdCreate=function(a){var b=a[o]||s;this._timerManager.createTimer(a[m],a[n],b)},d.prototype._cmdPause=function(a){this._timerManager.pauseTimer(a[m],!!a[q])},d.prototype._cmdResume=function(a){this._timerManager.resumeTimer(a[m],!!a[q])},d.prototype._cmdDestroy=function(a){this._timerManager.destroyTimer(a[m])},d.prototype.onTick=function(a,b,c){a+=".tick";var d={};d[m]=a,d[n]=b,d[p]=c,this._trigger(a,d)},d.prototype._setupDataResolver=function(){var a={},b=this._timerManager;a[r]=function(a){return b.isTimerPaused(a)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];if(c=c||{},f.startsWith(e,r)){var g=e.split(r+".");g.length>0&&(c[e]=a[r].call(this,g[1]))}}return c}};var h="service.clock",i="create",j="pause",k="resume",l="destroy",m="name",n="interval",o="repeat_count",p="tick",q="reset",r="is_paused",s=-1;c.clock.ClockService=d}(d,b,e),function(a,b,c){"use strict";function d(a,b){if(this._logger=new e,this._pluginManager=new f(this._logger),this._pluginManager.addPlugin(new g(this._logger)),b)for(var c=0;c<b.length;c++)this._pluginManager.addPlugin(b[c]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var e=a.Logger,f=a.plugin.PluginManager,g=b.clock.ClockService;d.prototype.configure=function(a){if(!a)throw new Error("Configuration object cannot be NULL.");a.debugLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(h,"Instance is destroyed.")},d.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var h="Heartbeat";c.Heartbeat=d}(d,e,c),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=d),a.ADB.va||(a.ADB.va=c),a.ADB.va.utils||(a.ADB.va.utils=b),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this),!function(a){if("undefined"==typeof b)var b={};!function(a){"use strict";var b={};b.ASSET_TYPE_VOD="vod",b.ASSET_TYPE_LIVE="live",b.ASSET_TYPE_LINEAR="linear",a.AssetType=b}(b),function(a){"use strict";function b(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},a.AdBreakInfo=b}(b),function(a){"use strict";function b(){this.id=null,this.name=null,this.length=null,this.position=null}b.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position},a.AdInfo=b}(b),function(a){"use strict";function b(){this.name=null,this.length=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},a.ChapterInfo=b}(b),function(a){"use strict";function b(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}b.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},a.QoSInfo=b}(b),function(a){"use strict";function b(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.streamType=null,this.resumed=!1}b.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", streamType="+this.streamType+", resumed="+this.resumed},a.VideoInfo=b}(b),function(a){"use strict";function b(){this.debugLogging=!1}a.VideoPlayerPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getAdBreakInfo=function(){return null},b.prototype.getAdInfo=function(){return null},b.prototype.getChapterInfo=function(){return null},b.prototype.getQoSInfo=function(){return null},a.VideoPlayerPluginDelegate=b}(b),function(a,b){"use strict";function c(a){if(c.__super__.constructor.call(this,h),!a)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=a,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._isTrackingAd=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._setupDataResolver()}var d=a.plugin.ParamMapping,e=a.Trigger,f=a.plugin.BasePlugin,g=b.VideoPlayerPluginConfig;a.extend(c,f),c.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof g))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");a.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+a.debugLogging+")")},c.prototype.bootstrap=function(a){c.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},c.prototype._cmdVideoIdleStart=function(a){this._logger.info(this._logTag,"#_cmdVideoIdleStart()"),this._videoIdle=!0},c.prototype._cmdVideoIdleResume=function(a){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(o),this._trigger(p),a.isInChapter&&this._trigger(A),a.isInAd&&(this._trigger(u),this._isTrackingAd=!0)),this._videoIdle=!1},c.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");
this._trigger(o),this._isTrackingSessionStarted=!0;var a=this._dataResolver(["video.resumed"]);a.hasOwnProperty("video.resumed")&&a["video.resumed"]&&this._trigger(p)}},c.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._trigger(m),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},c.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(n),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._videoIdle=!1}},c.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&(this._trigger(s),this._startPlayheadTimer())},c.prototype.trackPause=function(){if(this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")){this._stopPlayheadTimer();var a={};a[H]=!1,this._trigger(t,a)}},c.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&(this._stopPlayheadTimer(),this._trigger(w))},c.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&(this._trigger(x),this._startPlayheadTimer())},c.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&(this._stopPlayheadTimer(),this._trigger(y))},c.prototype.trackSeekComplete=function(){if(this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")){this._trigger(z),this._startPlayheadTimer();var a=this._dataResolver(["ad.isInAd"]);this._isTrackingAd=a.hasOwnProperty("ad.isInAd")&&a["ad.isInAd"]}},c.prototype.trackComplete=function(a){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){var b={};b[G]=a,this._stopPlayheadTimer(),this._trigger(q,b)}},c.prototype.trackTimedMetadata=function(a){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(r,a)},c.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(A)},c.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(B)},c.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(u),this._isTrackingAd=!0)},c.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&(this._trigger(v),this._isTrackingAd=!1)},c.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(C)},c.prototype.trackVideoPlayerError=function(a){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+a+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var b={};b[I]=l,b[J]=a,this._trigger(D,b)}},c.prototype.trackApplicationError=function(a){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+a+")"),this._startSessionIfNeeded("trackApplicationError")){var b={};b[I]=k,b[J]=a,this._trigger(D,b)}},c.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoIdleStart",this._cmdVideoIdleStart),this._pluginManager.comply(this,"handleVideoIdleResume",this._cmdVideoIdleResume)},c.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new e(j,E),this,"handleVideoIdleStart"),this._pluginManager.registerBehaviour(new e(j,F),this,"handleVideoIdleResume",[new d(i,"ad.isInAd","isInAd"),new d(i,"chapter.isInChapter","isInChapter")])},c.prototype._setupDataResolver=function(){function a(){return g.video?g.video:(g.video=h._delegate.getVideoInfo(),h._logger.info(h._logTag,"Data from delegate > VideoInfo: "+g.video),g.video)}function b(){return g.ad?g.ad:(g.ad=h._delegate.getAdInfo(),h._logger.info(h._logTag,"Data from delegate > AdInfo: "+g.ad),g.ad)}function c(){return g.pod?g.pod:(g.pod=h._delegate.getAdBreakInfo(),h._logger.info(h._logTag,"Data from delegate > AdBreakInfo: "+g.pod),g.pod)}function d(){return g.chapter?g.chapter:(g.chapter=h._delegate.getChapterInfo(),h._logger.info(h._logTag,"Data from delegate > ChapterInfo: "+g.chapter),g.chapter)}function e(){return g.qos?g.qos:(g.qos=h._delegate.getQoSInfo(),h._logger.info(h._logTag,"Data from delegate > QoSInfo: "+g.qos),g.qos)}var f={},g={},h=this;f["video.id"]=function(){var b=a(),c=b?b.id:null;return h._logger.debug(h._logTag,"Resolving video.id: "+c),c},f["video.name"]=function(){var b=a(),c=b?b.name:null;return h._logger.debug(h._logTag,"Resolving video.name: "+c),c},f["video.length"]=function(){var b=a(),c=b?b.length:NaN;return h._logger.debug(h._logTag,"Resolving video.length: "+c),c},f["video.playerName"]=function(){var b=a(),c=b?b.playerName:null;return h._logger.debug(h._logTag,"Resolving video.playerName: "+c),c},f["video.streamType"]=function(){var b=a(),c=b?b.streamType:null;return h._logger.debug(h._logTag,"Resolving video.streamType: "+c),c},f["video.playhead"]=function(){var b=a(),c=b?b.playhead:NaN;return h._logger.debug(h._logTag,"Resolving video.playhead: "+c),c},f["video.resumed"]=function(){var b=a(),c=b?b.resumed:!1;return h._logger.debug(h._logTag,"Resolving video.resumed: "+c),c},f["video.playheadStalled"]=function(){return this._playheadStalled},f["pod.name"]=function(){var a=c(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving pod.name: "+b),b},f["pod.playerName"]=function(){var a=c(),b=a?a.playerName:null;return h._logger.debug(h._logTag,"Resolving pod.playerName: "+b),b},f["pod.position"]=function(){var a=c(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving pod.position: "+b),b},f["pod.startTime"]=function(){var a=c(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving pod.startTime: "+b),b},f["ad.isInAd"]=function(){var a=b(),c=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAd: "+c),c},f["ad.isInAdBreak"]=function(){var a=c(),b=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAdBreak: "+b),b},f["ad.id"]=function(){var a=b(),c=a?a.id:null;return h._logger.debug(h._logTag,"Resolving ad.id: "+c),c},f["ad.name"]=function(){var a=b(),c=a?a.name:null;return h._logger.debug(h._logTag,"Resolving ad.name: "+c),c},f["ad.length"]=function(){var a=b(),c=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving ad.length: "+c),c},f["ad.position"]=function(){var a=b(),c=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving ad.position: "+c),c},f["chapter.isInChapter"]=function(){var a=d(),b=null!=a;return h._logger.debug(h._logTag,"Resolving chapter.isInChapter: "+b),b},f["chapter.name"]=function(){var a=d(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving chapter.name: "+b),b},f["chapter.length"]=function(){var a=d(),b=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving chapter.length: "+b),b},f["chapter.position"]=function(){var a=d(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving chapter.position: "+b),b},f["chapter.startTime"]=function(){var a=d(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving chapter.startTime: "+b),b},f["qos.bitrate"]=function(){var a=e(),b=a?a.bitrate:NaN;return h._logger.debug(h._logTag,"Resolving qos.bitrate: "+b),b},f["qos.fps"]=function(){var a=e(),b=a?a.fps:NaN;return h._logger.debug(h._logTag,"Resolving qos.fps: "+b),b},f["qos.droppedFrames"]=function(){var a=e(),b=a?a.droppedFrames:NaN;return h._logger.debug(h._logTag,"Resolving qos.droppedFrames: "+b),b},f["qos.startupTime"]=function(){var a=e(),b=a?1e3*a.startupTime:NaN;return h._logger.debug(h._logTag,"Resolving qos.startupTime: "+b),b},this._dataResolver=function(a){if(!a||0==a.length)return null;g={};for(var b=null,c=0;c<a.length;c++){var d=a[c];b=b||{},b[d]=f.hasOwnProperty(d)?f[d].call(this):null}return b}},c.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(t)))},c.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,this._playheadStalled&&(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this.trackPlay()))},c.prototype._startPlayheadTimer=function(){var a=this;this._playheadTimer||(this._playheadTimer=setInterval(function(){if(a._canProcess()){var b=a._dataResolver(["ad.isInAd","video.playhead"]);if(a._isTrackingAd)a._playheadStalled&&a._trackExitStall(),b.hasOwnProperty("ad.isInAd")&&!b["ad.isInAd"]&&(a._isTrackingAd=!1);else{var c=b["video.playhead"];c!=a._previousPlayhead?a._trackExitStall():a._previousPlayhead>=0&&c==a._previousPlayhead&&(a._stalledPlayheadCount++,a._stalledPlayheadCount==L&&a._trackPlayheadStall()),a._previousPlayhead=c}}},K))},c.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},c.prototype._startSessionIfNeeded=function(a){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+a+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+a+"() > No active tracking session."),!1)};var h="player",i=h,j="adobe-heartbeat",k="sourceErrorExternal",l="sourceErrorSDK",m="video_load",n="video_unload",o="video_start",p="video_resume",q="video_complete",r="timed_metadata",s="play",t="pause",u="ad_start",v="ad_complete",w="buffer_start",x="buffer_complete",y="seek_start",z="seek_complete",A="chapter_start",B="chapter_complete",C="bitrate_change",D="track_error",E="video_idle_start",F="video_idle_resume",G="callback",H="filter_report",I="source",J="error_id",K=1001,L=2;b.VideoPlayerPlugin=c}(a.ADB.core,b),a.ADB.va.plugins.videoplayer||(a.ADB.va.plugins.videoplayer=b)}(this),!function(a){if("undefined"==typeof b)var b={};b.clock||(b.clock={}),b.context||(b.context={}),b.filter||(b.filter={}),b.model||(b.model={}),b.network||(b.network={}),function(a,b){"use strict";function c(a,b,c,d,e){if(!b)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=b,!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=a,!e)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+c,this._logger=e,this._isDestroyed=!1,this._createTimer(c,d),this._installHandlers()}var d=a.Event;c.KEY_NAME="name",c.KEY_INTERVAL="interval",c.KEY_RESET="reset",c.prototype.resume=function(a){this._logger.debug(this._logTag,"Starting timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,i,b)},c.prototype.pause=function(a){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,h,b)},c.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var a={};a[c.KEY_NAME]=e+"."+this._name,this._pluginManager.command(f,j,a)}},c.prototype.setInterval=function(a){var b=k+"."+e+"."+this._name,c=this._pluginManager.request(f,[b])[b];this.pause(!0),this._createTimer(this._name,a),c||this.resume(!0)},c.prototype._cmdResume=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.resume(b)},c.prototype._cmdPause=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.pause(b)},c.prototype._onTick=function(a,b){this._channel.trigger(new d("clock:"+this._name+".tick",b))},c.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(f,e+"."+this._name+".tick",this._onTick,this)},c.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},c.prototype._createTimer=function(a,b){this._name=a,this._interval=b;var d={};d[c.KEY_NAME]=e+"."+this._name,d[c.KEY_INTERVAL]=this._interval,this._pluginManager.command(f,g,d)};var e="heartbeat",f="service.clock",g="create",h="pause",i="resume",j="destroy",k="is_paused";b.clock.Timer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,f,h,d)}var d=a.Event,e=b.clock.Timer;a.extend(c,e),c.prototype._onCheckStatusComplete=function(a){var b=a.data[l];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");b>g?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+b),this.setInterval(g)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(h)},c.prototype._getSettings=function(a){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new d(i))},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(j,this._getSettings,this),this._channel.on(k,this._onCheckStatusComplete,this),this._channel.reply(l,function(){return this._interval},this)};var f="check_status",g=600,h=60,i="clock:check_status.tick",j="clock:check_status.get_settings",k="net:check_status_complete",l="check_status_interval";b.clock.CheckStatusTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d),c.prototype._onCheckStatusComplete=function(a){var b=a.data[g];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(f)},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(h,this._onCheckStatusComplete,this),this._channel.reply(g,function(){return this._interval},this)};var e="reporting",f=10,g="reporting_interval",h="net:check_status_complete";b.clock.ReportingTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="idle",f=1800;b.clock.IdleTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="flush_filter",f=.25;b.clock.FlushFilterTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c){if(!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(!b)throw new Error("Reference to the channel object cannot be NULL");if(!c)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new f(a,b,c),this._checkStatusTimer=new d(a,b,c),this._flushFilterTimer=new e(a,b,c),this._idleTimer=new g(a,b,c)}var d=b.clock.CheckStatusTimer,e=b.clock.FlushFilterTimer,f=b.clock.ReportingTimer,g=b.clock.IdleTimer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},b.clock.Clock=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this.value=a,this.hint=b}function d(a){this.realm=a,this.data={}}c.HINT_SHORT="short",d.prototype.setField=function(a,b,d){this.data[a]=new c(b,d)},d.prototype._createAccessor=function(a,b,c){var d=this;return function(){return arguments.length&&(d[a]=arguments[0],d.setField(b,arguments[0],c)),d[a]}},b.model.Dao=d,b.model.DaoField=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.adId(a.adId()),this.sid(a.sid()),this.resolver(a.resolver()),this.podId(a.podId()),this.podPosition(a.podPosition()),this.podOffset(a.podOffset()),this.podName(a.podName()),this.adLength(a.adLength()),this.adName(a.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var d=b.model.Dao;a.extend(c,d),b.model.AdDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",e.HINT_SHORT),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.reportSuiteId(a.reportSuiteId()),this.trackingServer(a.trackingServer()),this.ssl(a.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var d=b.model.Dao,e=b.model.DaoField;a.extend(c,d),b.model.AdobeAnalyticsDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.id(a.id()),this.sid(a.sid()),this.name(a.name()),this.position(a.position()),this.length(a.length()),this.offset(a.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var d=b.model.Dao;a.extend(c,d),b.model.ChapterDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.name(a.name()),this.videoId(a.videoId()),this.publisher(a.publisher()),this.length(a.length());var b=a.adData()?new e(a.adData()):null;this.adData(b);var d=a.chapterData()?new f(a.chapterData()):null;this.chapterData(d)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var d=b.model.Dao,e=b.model.AdDao,f=b.model.ChapterDao;a.extend(c,d),c.TYPE_AD="ad",c.TYPE_MAIN_CONTENT="main",b.model.AssetDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.duration(a.duration()),this.playhead(a.playhead()),this.id(a.id()),this.source(a.source()),this.ts(a.ts()),this.prevTs(a.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var d=b.model.Dao;a.extend(c,d),c.EVENT_TYPE_AA_START="aa_start",c.EVENT_TYPE_AA_AD_START="aa_ad_start",c.EVENT_TYPE_START="start",c.EVENT_TYPE_RESUME="resume",c.EVENT_TYPE_CHAPTER_START="chapter_start",c.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",c.EVENT_TYPE_PLAY="play",c.EVENT_TYPE_PAUSE="pause",c.EVENT_TYPE_STALL="stall",c.EVENT_TYPE_BUFFER="buffer",c.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",c.EVENT_TYPE_ERROR="error",c.EVENT_TYPE_COMPLETE="complete",b.model.EventDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.bitrate(a.bitrate()),this.fps(a.fps()),this.droppedFrames(a.droppedFrames()),this.startupTime(a.startupTime()),this.isStartupTimeOverridden=a.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var d=b.model.Dao;a.extend(c,d),b.model.QoSDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.ovp(a.ovp()),this.sdk(a.sdk()),this.channel(a.channel()),this.playerName(a.playerName()),this.libVersion(a.libVersion()),this.apiLevel(a.apiLevel())}else this.ovp(e),this.sdk(e),this.channel(e),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var d=b.model.Dao;a.extend(c,d);var e="unknown";b.model.ServiceProviderDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.sessionId(a.sessionId())}else this.sessionId(null)}var d=b.model.Dao;a.extend(c,d),b.model.SessionDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type())}else this.type(null)}var d=b.model.Dao;a.extend(c,d),b.model.StreamDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.analyticsVisitorId(a.analyticsVisitorId()),this.marketingCloudVisitorId(a.marketingCloudVisitorId()),this.visitorId(a.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var d=b.model.Dao;a.extend(c,d),b.model.UserDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.audienceManagerBlob(a.audienceManagerBlob()),this.audienceManagerLocationHint(a.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var d=b.model.Dao;a.extend(c,d),b.model.AudienceManagerDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c,i,j){this.eventData=new e,this.eventData.type(b),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(c),this.assetData=new f(a._assetData),this.streamData=new g(a._streamData),this.qosData=new h(a._qosData),this.cuserData=d.clone(a._cuserData),this.meta=i,this.callback=j,this.filterReport=!0}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.TrackItem=c}(a.ADB.va.utils,b),function(a,b){"use strict";function c(a,b,c,i,j,k){this.adobeAnalyticsData=a,this.userData=b,this.aamData=c,this.serviceProviderData=i,this.sessionData=j,this.eventData=new e(k.eventData),this.assetData=new f(k.assetData),this.streamData=new g(k.streamData),this.qosData=new h(k.qosData),this.cuserData=d.clone(k.cuserData),this.meta=d.clone(k.meta),this.callback=k.callback,this.filterReport=k.filterReport}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.CUserDao,b.model.Report=c}(a.ADB.va.utils,b),function(a){"use strict";function b(){}b.prototype.serializeReport=function(a){},b.prototype.serializeDao=function(a){},b.prototype.serializeMap=function(a){},b.prototype.serializeNumber=function(a,b,c,d){},b.prototype.serializeString=function(a,b,c,d){},a.model.ISerializer=b}(b),function(a,b){"use strict";function c(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a}var d=b.model.Dao,e=b.model.DaoField,f=b.model.ISerializer;a.extend(c,f),c.prototype.serializeReport=function(a){var b=[];return b.push(this.serializeDao(a.adobeAnalyticsData)),b.push(this.serializeDao(a.userData)),b.push(this.serializeDao(a.aamData)),b.push(this.serializeMap(a.cuserData,"cuser")),b.push(this.serializeDao(a.serviceProviderData)),b.push(this.serializeDao(a.sessionData)),b.push(this.serializeDao(a.eventData)),b.push(this.serializeDao(a.assetData)),b.push(this.serializeDao(a.streamData)),b.push(this.serializeDao(a.qosData)),b.push(this.serializeMap(a.meta,"meta")),{serializedOutput:b.filter(function(a){return!!a}).join("&"),callback:a.callback}},c.prototype.serializeDao=function(a){var b=this._processDao(a);return b.filter(function(a){return!!a}).join("&")},c.prototype.serializeMap=function(a,b){var c=[],d=b?b:"meta";for(var e in a)a.hasOwnProperty(e)&&a[e]&&c.push("s:"+d+":"+e+"="+window.encodeURIComponent(a[e]));return c.join("&")},c.prototype.serializeNumber=function(a,b,c,d){var f=h;return null==b||isNaN(b)?null:(d===e.HINT_SHORT&&(f=i),f+":"+c+":"+a+"="+Math.floor(b))},c.prototype.serializeString=function(a,b,c,d){return b?j+":"+c+":"+a+"="+window.encodeURIComponent(b):null},c.prototype._processDao=function(a){var b=[];for(var c in a.data)if(a.data.hasOwnProperty(c)){var e=a.data[c],f=e.value,h=e.hint,i=null,j=a.realm;if(null==f)continue;"number"==typeof f?i=this.serializeNumber(c,f,j,h):"string"==typeof f?i=this.serializeString(c,f,j,h):f instanceof d?i=this.serializeDao(f):this._logger.warn(g,"#_processDao() > Unable to serialize DAO. Field: "+c+". Value: "+f+"."),i&&b.push(i)}return b};var g="ah::QuerystringSerializer",h="l",i="h",j="s";b.model.QuerystringSerializer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the data object cannot be NULL");if(this._data=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b}c.prototype.parse=function(){var a,b,c,i,j;if(window.DOMParser){var k=new window.DOMParser;j=k.parseFromString(this._data,"text/xml")}else j=new window.ActiveXObject("Microsoft.XMLDOM"),j.async=!1,j.loadXML(this.data);var l;l=parseInt(j.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10),l&&(a=l),l=parseInt(j.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10),l&&(b=l),l=parseInt(j.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10),l&&(c=1==l),j.getElementsByTagName("nielsenEnabled")[0]?(l=parseInt(j.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10),i=1==l):i=!0;var m={};return m[e]=a,m[f]=b,m[g]=c,m[h]=i,this._logger.debug(d,"#parse() > Obtained configuration settings."),m};var d="ah::SettingsParser",e="reporting_interval",f="check_status_interval",g="track_external_errors",h="nielsen_enabled";b.network.SettingsParser=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._quietMode=!1,this._visitorOptedOut=!1,this._prevReportSent=null,!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._serializer=new i(b),this._installEventListeners()}var d=a.Event,e=a.URLRequestMethod,f=a.URLRequest,g=a.URLLoader,h=b.network.SettingsParser,i=b.model.QuerystringSerializer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(j,"#destroy()"),this._uninstallEventListeners())},c.prototype._onApiConfig=function(a){var b=a.data;this._logger.debug(j,"#_onApiConfig(sb_server="+b[k]+", check_status_server="+b[l]+", publisher="+b[m]+", quiet_mode="+b[n]+", ssl="+b[o]+")"),this._trackingServer=this._updateRequestProtocol(b[k],b[o]),this._checkStatusServer=this._updateRequestProtocol(b[l],b[o]),this._publisher=b[m],this._quietMode=b[n],this._isConfigured=!0},c.prototype._onUpdateVisitorOptOut=function(a){var b=a.data;this._logger.debug(j,"#_onUpdateVisitorOptOut(visitor_opt_out="+b[q]+")"),this._visitorOptedOut=b[q]},c.prototype._onFilterReportAvailable=function(a){var b=a.data;if(!this._isConfigured)return void this._logger.warn(j,"#_onFilterReportAvailable() > Unable to send request: not configured.");var c=b[p],h=this._serializer.serializeReport(c),i=this._trackingServer+"/?"+h.serializedOutput;if(this._prevReportSent&&this._prevReportSent.eventData&&c.eventData&&this._prevReportSent.eventData.playhead==c.eventData.playhead&&this._prevReportSent.eventData.ts==c.eventData.ts&&this._prevReportSent.eventData.prevTs==c.eventData.prevTs&&this._prevReportSent.eventData.type==c.eventData.type)return void this._logger.debug(j,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\n"+i);this._prevReportSent=c;var k=new f(i,e.GET);this._logger.debug(j,"#_onFilterReportAvailable() > "+k.url);var l=this,m=function(a){o.close(),h.callback&&h.callback.call(null)},n=function(a){o.close(),l._logger.warn(j,"#_onFilterReportAvailable() > Failed to send heartbeat report."),h.callback&&h.callback.call(null)};if(!this._quietMode&&!this._visitorOptedOut){var o=new g;o.addEventListener(d.SUCCESS,m,this),o.addEventListener(d.ERROR,n,this),
o.load(k)}},c.prototype._onClockCheckStatusTick=function(a){function b(a){if(a.data){var b=new h(a.data.response,i._logger),c=b.parse();c?i._channel.trigger(new d(v,c)):i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}n.close()}function c(a){i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),n.close()}if(!this._isConfigured)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Unable to send request: not configured.");if(!this._publisher)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Publisher is NULL.");var i=this,k=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),l=this._checkStatusServer+k+".xml?r="+(new Date).getTime(),m=new f(l,e.GET),n=new g;n.addEventListener(d.SUCCESS,b,this),n.addEventListener(d.ERROR,c,this),this._logger.debug(j,"#_onClockCheckStatusTick() > Get new settings from: "+l),n.load(m)},c.prototype._updateRequestProtocol=function(a,b){var c=a;return 0===c.indexOf("http://")?c=c.slice(7):0===c.indexOf("https://")&&(c=c.slice(8)),b?"https://"+c:"http://"+c},c.prototype._installEventListeners=function(){this._channel.on(r,this._onApiConfig,this),this._channel.on(s,this._onUpdateVisitorOptOut,this),this._channel.on(t,this._onFilterReportAvailable,this),this._channel.on(u,this._onClockCheckStatusTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var j="ah::Network",k="tracking_server",l="check_status_server",m="publisher",n="quiet_mode",o="ssl",p="report",q="visitor_opt_out",r="api:config",s="api:update_visitor_optout",t="filter:data_available",u="clock:check_status.tick",v="net:check_status_complete";b.network.Network=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new i,this._installEventListeners()}function d(a){var b=[];return a&&a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_PAUSE||a.eventData.type()==k.EVENT_TYPE_STALL?(!a.filterReport||a.eventData.duration()>u)&&b.push(a):b.push(a)}),b}function e(a){var b=-1,c=-1,d=[];return a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_START?a.assetData.type()==l.TYPE_MAIN_CONTENT?-1==b?b=d.push(a)-1:(a.eventData.prevTs(-1),d[b]=a):-1==c?c=d.push(a)-1:(a.eventData.prevTs(-1),d[c]=a):d.push(a)}),d}function f(a){var b=[];return a.forEach(function(c){if(c.eventData.type()==k.EVENT_TYPE_PLAY){if(c.eventData.duration()>t)b.push(c);else if(0==c.eventData.duration()&&c.assetData.type()==l.TYPE_MAIN_CONTENT){var d=g(a);d.indexOf(c)==d.length-1&&b.push(c)}}else b.push(c)}),b}function g(a){var b=[];return a.forEach(function(a){(a.eventData.type()==k.EVENT_TYPE_PLAY||a.eventData.type()==k.EVENT_TYPE_BUFFER||a.eventData.type()==k.EVENT_TYPE_START)&&b.push(a)}),b}var h=a.radio.Command,i=a.radio.CommandQueue,j=a.Event,k=b.model.EventDao,l=b.model.AssetDao;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners(),this.clear())},c.prototype.clear=function(){this._logger.debug(w,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},c.prototype.flush=function(){this._workQueue.addCommand(new h(this._flushBufferReport,this))},c.prototype._bufferReport=function(a){if(!this._isDestroyed){var b=a[q];if(b){var c=b.sessionData.sessionId();this._reportBuffer[c]=this._reportBuffer[c]||[],this._reportBuffer[c].push(b)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var d={};d[p]=!0,d[r]=1,this._channel.command(s,d)}}},c.prototype._flushBufferReport=function(){function a(a){if(a)for(var c=0;c<a.length;c++){var d=a[c],e=d.sessionData.sessionId();b._tsHistory[e]=b._tsHistory[e]||{};var f=d.eventData.type()+"."+(d.assetData.type()==l.TYPE_AD?d.assetData.adData().adId():d.assetData.videoId());b._tsHistory[e].hasOwnProperty(f)&&d.eventData.prevTs(b._tsHistory[e][f]),b._tsHistory[e][f]=d.eventData.ts()}}if(!this._isDestroyed){var b=this;for(var c in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(c)){var g=f(e(d(this._reportBuffer[c])));a(g);for(var h=0;h<g.length;h++){var i=g[h],k={};k[q]=i,this._channel.trigger(new j(n,k))}}this._reportBuffer={};var m=this._channel.request(v),o=this._tsHistory[m]||{};this._tsHistory={},this._tsHistory[m]=o,this._isBufferingInProgress=!1}},c.prototype._onContextReportAvailable=function(a){var b=a.data;this._workQueue.addCommand(new h(this._bufferReport,this,[b]))},c.prototype._onClockFlushFilterTick=function(a){this.flush()},c.prototype._installEventListeners=function(){this._channel.on(m,this._onContextReportAvailable,this),this._channel.on(o,this._onClockFlushFilterTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var m="context:report_available",n="filter:data_available",o="clock:flush_filter.tick",p="reset",q="report",r="repeat_count",s="clock:flush_filter.resume",t=250,u=250,v="session_id",w="ah::ReportFilter";b.filter.ReportFilter=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!a.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof a.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(a.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"rsid":if(!a.hasOwnProperty("rsid"))return this._fail("account (rsid) is required and has to be set in the AppMeasurement instance.");if("string"!=typeof a.rsid)return this._fail("account (rsid) of the AppMeasurement instance must be a String.");if(""===a.rsid)return this._fail("account (rsid) of the AppMeasurement instance  cannot be an empty string.");break;case"trackingServer":if(!a.hasOwnProperty("trackingServer"))return this._fail("trackingServer is required and has to be set in the AppMeasurement instance.");if("string"!=typeof a.trackingServer)return this._fail("trackingServer of the AppMeasurement instance must be a String.");if(""===a.trackingServer)return this._fail("trackingServer of the AppMeasurement instance cannot be an empty string.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!a.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof a.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(a.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!a.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof a.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(a.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!a.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof a.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(a.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.context.InputDataValidator=c}(a.ADB.va,b),function(a,b){"use strict";function c(a,b){if(!b)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=b,!a)throw new Error("Reference to the context object cannot be NULL");this._context=a}var d=b.model.Report;c.prototype.createReportForItem=function(a){return this._logger.debug(e,"Creating report for item: "+a.eventData.type()),new d(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,a)};var e="ah::ReportFactory";b.context.ReportFactory=c}(a.ADB.core,b),function(a,b,c,d){"use strict";function e(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._lastInBandItem=null,this._autoComputedStartupTime=0,this._reportingInterval=fa,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new j,this._serviceProviderData=new k,this._userData=new l,this._aamData=new m,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._activeAssetId=null,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new u(this,this._logger),this._inputDataValidator=new v(function(a){this._logger.error(w,a.getMessage()+" | "+a.getDetails()),this._channel.trigger(new h(y,a))},this),this._stashedChapterData=null,this._stashedAdData=null,this._trackExternalErrors=!0,this._installEventListeners()}var f=c.md5,g=c.ObjectUtils,h=a.Event,i=d.model.SessionDao,j=d.model.AdobeAnalyticsDao,k=d.model.ServiceProviderDao,l=d.model.UserDao,m=d.model.AudienceManagerDao,n=d.model.EventDao,o=d.model.AssetDao,p=d.model.StreamDao,q=d.model.QoSDao,r=d.model.AdDao,s=d.model.ChapterDao,t=d.model.TrackItem,u=d.context.ReportFactory,v=d.context.InputDataValidator;e.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners())},e.prototype._onApiAnalyticsStart=function(a){this._logger.debug(w,"#_onApiAnalyticsStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._userData.visitorId(b.vid),this._userData.analyticsVisitorId(b.aid),this._userData.marketingCloudVisitorId(b.mid),this._aamData.audienceManagerBlob(b.blob),this._aamData.audienceManagerLocationHint(b.loc_hint),b.customerIDs&&(this._cuserData=b.customerIDs),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_START,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(c)}},e.prototype._onApiAnalyticsAdStart=function(a){this._logger.debug(w,"#_onApiAnalyticsAdStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_AD_START,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoLoad=function(a){var b=a.data;this._logger.debug(w,"#_onApiVideoLoad(rsid="+b.rsid+", aa_trackingServer="+b.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(b,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},e.prototype._onApiVideoUnload=function(a){return this._logger.debug(w,"#_onApiVideoUnload()"),this._isTrackingSessionActive?void(this._isTrackingSessionActive=!1):void this._logger.debug(w,"#_onApiVideoUnload() > No active tracking session.")},e.prototype._onApiVideoStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoStart(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._adobeAnalyticsData.reportSuiteId(b.rsid),this._adobeAnalyticsData.trackingServer(b.trackingServer),this._adobeAnalyticsData.ssl(Number(b.useSsl)),this._serviceProviderData.ovp(b.ovp),this._serviceProviderData.sdk(b.sdk),this._serviceProviderData.channel(b.channel),this._serviceProviderData.libVersion(b.version),this._serviceProviderData.apiLevel(b.apiLvl),this._activeAssetId=b.videoId,this._serviceProviderData.playerName(b.playerName),this._assetData.videoId(this._activeAssetId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.publisher(b.publisher),this._assetData.name(b.videoName),this._streamData.type(b.streamType),this._updateQoSInfo(b);var c=b.metaNielsen?g.merge(b.metaVideo,b.metaNielsen):b.metaVideo,d=new t(this,n.EVENT_TYPE_START,b.playhead,c,b._eventData[E]);this._sendHit(d)}},e.prototype._onApiVideoResume=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoResume(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._activeAssetId=b.videoId,this._assetData.videoId(this._activeAssetId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.name(b.videoName),this._streamData.type(b.streamType);var c=new t(this,n.EVENT_TYPE_RESUME,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoComplete=function(a){this._logger.debug(w,"#_onApiVideoComplete()");var b=a.data;if(this._checkCall("_onApiVideoComplete")){var c=new t(this,n.EVENT_TYPE_COMPLETE,this._assetData.length(),null,b._eventData[E]);this._sendHit(c),this._isVideoComplete=!0}},e.prototype._onApiPlay=function(a){this._logger.debug(w,"#_onApiPlay()");var b=a.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_PLAY,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiPause=function(a){this._logger.debug(w,"#_onApiPause()");var b=a.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=b.playheadStalled?n.EVENT_TYPE_STALL:n.EVENT_TYPE_PAUSE,d=new t(this,c,b.playhead,null,b._eventData[E]);b._eventData.hasOwnProperty(F)&&(d.filterReport=b._eventData[F]),this._sendHit(d)}},e.prototype._onApiBufferStart=function(a){this._logger.debug(w,"#_onApiBufferStart()");var b=a.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BUFFER,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiSeekStart=function(a){this._logger.debug(w,"#_onApiSeekStart()"),this._checkCall("_onApiSeekStart")&&(this._stashedAdData=this._assetData.adData(),this._stashedChapterData=this._assetData.chapterData(),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId(),this._assetData.chapterData(null))},e.prototype._onApiSeekComplete=function(a){this._logger.debug(w,"#_onApiSeekComplete()");var b=a.data;if(this._checkCall("_onApiSeekComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(b.isInAd){if(!this._inputDataValidator.validateFields(b,["adId","adPosition","podPosition","podPlayerName"]))return;var c=f(this._assetData.videoId())+"_"+b.podPosition;if(this._stashedAdData&&this._stashedAdData.podId()==c&&parseInt(this._stashedAdData.podPosition(),10)==b.adPosition)this._assetData.adData(this._stashedAdData),this._activeAssetId=this._stashedAdData.adId();else if(!this._assetData.adData()){this._activeAssetId=b.adId;var d=new r;d.adId(this._activeAssetId),d.adName(b.adName),d.adLength(b.adLength),d.podId(c),d.resolver(b.podPlayerName),d.podPosition(b.podPosition+""),d.podName(b.podName),d.podOffset(b.podSecond),d.sid(this._generateSessionId()),this._assetData.adData(d)}this._assetData.type(o.TYPE_AD)}else this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId();if(b.isInChapter){if(!this._inputDataValidator.validateFields(b,["chapterPosition","chapterLength","chapterOffset"]))return;if(this._stashedChapterData&&b.chapterPosition==this._stashedChapterData.position())this._assetData.chapterData(this._stashedChapterData);else if(!this._assetData.chapterData()){var e=new s;e.id(f(this._assetData.videoId())+"_"+b.chapterPosition),e.name(b.chapterName),e.length(b.chapterLength),e.position(b.chapterPosition),e.offset(b.chapterOffset),e.sid(this._generateSessionId()),this._assetData.chapterData(e)}}else this._assetData.chapterData(null);this._stashedAdData=null,this._stashedChapterData=null}},e.prototype._onApiAdStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiAdStart(id="+b.adId+", player_name="+b.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+b.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(b,["playhead","podPosition","podPlayerName","adId","adPosition"])){this._activeAssetId=b.adId;var c=new r;c.adId(this._activeAssetId),c.adName(b.adName),c.adLength(b.adLength),c.resolver(b.podPlayerName),c.podId(f(this._assetData.videoId())+"_"+b.podPosition),c.podPosition(b.adPosition+""),c.podName(b.podName),c.podOffset(b.podSecond),c.sid(this._generateSessionId()),this._assetData.adData(c),this._assetData.type(o.TYPE_AD),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaAd);d=b.metaNielsen?g.merge(d,b.metaNielsen):d;var e=new t(this,n.EVENT_TYPE_START,b.playhead,d,b._eventData[E]);this._sendHit(e)}},e.prototype._onApiAdComplete=function(a){this._logger.debug(w,"#_onApiAdComplete()");var b=a.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(this._assetData.type()!=o.TYPE_AD)return void this._logger.warn(w,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_COMPLETE,b.playhead,null,b._eventData[E]);this._sendHit(c),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId()}},e.prototype._onApiChapterStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiChapterStart(name="+b.chapterName+", length="+b.chapterLength+", position="+b.chapterPosition+", chapter_offset="+b.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(b,["playhead","chapterPosition","chapterOffset","chapterLength"])){var c=new s;c.id(f(this._assetData.videoId())+"_"+b.chapterPosition),c.name(b.chapterName),c.length(b.chapterLength),c.position(b.chapterPosition),c.offset(b.chapterOffset),c.sid(this._generateSessionId()),this._assetData.chapterData(c),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaChapter),e=new t(this,n.EVENT_TYPE_CHAPTER_START,b.playhead,d,b._eventData[E]);e.assetData.adData(null),e.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(e)}},e.prototype._onApiChapterComplete=function(a){this._logger.debug(w,"#_onApiChapterComplete()");var b=a.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(w,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_CHAPTER_COMPLETE,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c),this._assetData.chapterData(null)}},e.prototype._onApiBitrateChange=function(a){this._logger.debug(w,"#_onApiBitrateChange()");var b=a.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BITRATE_CHANGE,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiTrackError=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiTrackError(source="+b._eventData.source+", err_id="+b._eventData.error_id+")"),!this._isTrackingSessionActive)return void this._logger.warn(w,"#_onApiTrackError() > No active tracking session.");if(this._trackExternalErrors||b._eventData.source===x){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0,null,b._eventData[E]);c.eventData.id(b._eventData.error_id),c.eventData.source(b._eventData.source),this._sendHit(c)}},e.prototype._onApiTrackInternalError=function(a){var b=a.data;this._logger.debug(w,"#_onApiTrackInternalError(source="+b.source+", err_id="+b.error_id+")"),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0);c.eventData.id(b.error_id),c.eventData.source(b.source),this._sendHit(c)},e.prototype._onApiQuantumEnd=function(a){this._logger.debug(w,"#_onApiQuantumEnd(interval="+this._channel.request(B)+")");var b=a.data;this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(b,["playhead"])&&(this._lastInBandItem&&(this._lastInBandItem.eventData.playhead(b.playhead),this._updateQoSInfo(b),this._lastInBandItem.qosData.bitrate(this._qosData.bitrate()),this._lastInBandItem.qosData.fps(this._qosData.fps()),this._lastInBandItem.qosData.droppedFrames(this._qosData.droppedFrames()),this._lastInBandItem.qosData.startupTime(this._qosData.startupTime())),this._sendHit(this._lastInBandItem))},e.prototype._onNetworkCheckStatusComplete=function(a){var b=a.data;this._trackExternalErrors=b[I],this._reportingInterval=b[J],this._reportingInterval||(this._reportingInterval=fa),this._logger.debug(w,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},e.prototype._onResetSessionId=function(a){var b=this._generateSessionId();this._sessionData=new i,this._sessionData.sessionId(b),this._logger.debug(w,"#_resetSessionId(new sessionId="+b+")")},e.prototype._installEventListeners=function(){this._channel.on(K,this._onApiAnalyticsStart,this),this._channel.on(L,this._onApiAnalyticsAdStart,this),this._channel.on(M,this._onApiVideoLoad,this),this._channel.on(N,this._onApiVideoUnload,this),this._channel.on(O,this._onApiVideoStart,this),this._channel.on(P,this._onApiVideoComplete,this),this._channel.on(Q,this._onApiVideoResume,this),this._channel.on(R,this._onApiAdStart,this),this._channel.on(S,this._onApiAdComplete,this),this._channel.on(T,this._onApiPlay,this),this._channel.on(U,this._onApiPause,this),this._channel.on(V,this._onApiBufferStart,this),this._channel.on(W,this._onApiSeekStart,this),this._channel.on(X,this._onApiSeekComplete,this),this._channel.on(Y,this._onApiChapterStart,this),this._channel.on(Z,this._onApiChapterComplete,this),this._channel.on(aa,this._onApiBitrateChange,this),this._channel.on($,this._onApiTrackError,this),this._channel.on(_,this._onApiTrackInternalError,this),this._channel.on(ba,this._onApiQuantumEnd,this),this._channel.on(da,this._onNetworkCheckStatusComplete,this),this._channel.on(D,this._onResetSessionId,this),this._channel.reply(C,function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null},this)},e.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},e.prototype._resetInternalState=function(){this._logger.debug(w,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._streamData=new p,this._qosData=new q,this._sessionData=new i,this._assetData=new o,this._cuserData=null,this._stashedAdData=null,this._stashedChapterData=null,this._lastInBandItem=null},e.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},e.prototype._updateQoSInfo=function(a){this._qosData.bitrate(a.bitrate||0),this._qosData.fps(a.fps||0),this._qosData.droppedFrames(a.droppedFrames||0),null==a.startupTime||isNaN(a.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(a.startupTime),this._qosData.isStartupTimeOverridden=!0)},e.prototype._checkCall=function(a){return this._isTrackingSessionActive?this._isVideoComplete?(this._logger.warn(w,"#"+a+"() > The video content already completed."),!1):!0:(this._logger.warn(w,"#"+a+"() > No active tracking session."),!1)},e.prototype._updateLastInBandItem=function(a){var b=(new Date).getTime(),c=1e3*Math.abs(a.eventData.playhead()-this._lastInBandItem.eventData.playhead()),d=Math.abs(b-this._lastInBandItem.eventData.ts());this._lastInBandItem.eventData.type()!=n.EVENT_TYPE_PAUSE&&this._lastInBandItem.eventData.type()!=n.EVENT_TYPE_STALL?(d*ea>=c||this._doNotOverrideEventDuration)&&d<=this._reportingInterval*ea*1e3?this._lastInBandItem.eventData.duration(b-this._lastInBandItem.eventData.ts()):(this._logger.warn(w,"[WARNING] Resetting duration in lastInBandItem to 0. playheadDelta:"+c+" tsDelta:"+d+" event type:"+this._lastInBandItem.eventData.type()),this._lastInBandItem.eventData.duration(0)):this._lastInBandItem.eventData.duration(b-this._lastInBandItem.eventData.ts()),this._doNotOverrideEventDuration&&(this._doNotOverrideEventDuration=!1),this._lastInBandItem.eventData.ts(b),this._lastInBandItem.eventData.playhead(a.eventData.playhead()),this._lastInBandItem.qosData.startupTime(a.qosData.startupTime()),this._lastInBandItem.qosData.isStartupTimeOverridden=a.qosData.isStartupTimeOverridden},e.prototype._sendHit=function(a){function b(a){var b=c._reportFactory.createReportForItem(a);b.qosData.isStartupTimeOverridden||b.qosData.startupTime(c._autoComputedStartupTime);var e={};e[G]=b,c._channel.trigger(new h(ca,e)),(b.eventData.type()==n.EVENT_TYPE_PLAY||b.eventData.type()==n.EVENT_TYPE_BUFFER||b.eventData.type()==n.EVENT_TYPE_START)&&(d={},d[H]=!0,c._channel.command(z,d))}var c=this,d={};switch(a.eventData.type()){case n.EVENT_TYPE_START:case n.EVENT_TYPE_PLAY:case n.EVENT_TYPE_PAUSE:case n.EVENT_TYPE_STALL:case n.EVENT_TYPE_BUFFER:this._lastInBandItem&&(this._updateLastInBandItem(a),this._lastInBandItem.eventData.type()==n.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==o.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),a!=this._lastInBandItem&&b(this._lastInBandItem)),b(a),this._lastInBandItem=a,d={},d[H]=!0,this._channel.command(z,d);break;case n.EVENT_TYPE_COMPLETE:this._lastInBandItem&&(a.assetData.type()==o.TYPE_AD&&(this._doNotOverrideEventDuration=!0),this._updateLastInBandItem(a),b(this._lastInBandItem)),b(a),a.assetData.type()==o.TYPE_MAIN_CONTENT?(this._lastInBandItem=null,d={},d[H]=!0,this._channel.command(A,d)):a.assetData.type()==o.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(o.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case n.EVENT_TYPE_CHAPTER_START:case n.EVENT_TYPE_CHAPTER_COMPLETE:this._lastInBandItem&&(this._updateLastInBandItem(a),b(this._lastInBandItem)),b(a),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(a.eventData.type()==n.EVENT_TYPE_CHAPTER_START?new s(a.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),b(this._lastInBandItem));break;default:b(a)}};var w="ah::Context",x="sourceErrorSDK",y="error",z="clock:reporting.resume",A="clock:reporting.pause",B="reporting_interval",C="session_id",D="reset_session_id",E="callback",F="filter_report",G="report",H="reset",I="track_external_errors",J="reporting_interval",K="api:aa_start",L="api:aa_ad_start",M="api:video_load",N="api:video_unload",O="api:video_start",P="api:video_complete",Q="api:video_resume",R="api:ad_start",S="api:ad_complete",T="api:play",U="api:pause",V="api:buffer_start",W="api:seek_start",X="api:seek_complete",Y="api:chapter_start",Z="api:chapter_complete",$="api:track_error",_="api:track_internal_error",aa="api:bitrate_change",ba="api:quantum_end",ca="context:report_available",da="net:check_status_complete",ea=1.5,fa=10;d.context.Context=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){"use strict";function b(a,b){this.trackingServer=a,this.publisher=b,this.ssl=!1,this.ovp=c,this.sdk=c,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}var c="unknown";a.AdobeHeartbeatPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.AdobeHeartbeatPluginDelegate=b}(b),function(a,b,c){"use strict";function d(a){d.__super__.constructor.call(this,q),this._radio=new i(this._logger),this._channel=this._radio.channel(y),this._delegate=a,this._context=new l(this._channel,this._logger),this._filter=new m(this._channel,this._logger),this._network=new n(this._channel,this._logger),this._setupDataResolver()}var e=a.Event,f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Radio,j=b.ErrorInfo,k=b.Version,l=c.context.Context,m=c.filter.ReportFilter,n=c.network.Network,o=c.clock.Clock,p=c.AdobeHeartbeatPluginConfig;a.extend(d,g),d.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var b=this._config.trackingServer+"/settings/",c={};c[ba]=this._config.trackingServer,c[ca]=b,c[da]=this._config.publisher,
c[ea]=this._config.quietMode,c[fa]=this._config.ssl,this._channel.trigger(new e(ja,c)),this._isConfigured=!0},d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._channel.on(z,this._onError,this),this._clock=new o(this._pluginManager,this._channel,this._logger),this._channel.command(Ea),this._channel.trigger(new e(La)),this._registerCommands(),this._registerBehaviours()},d.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},d.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):d.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},d.prototype._cmdAnalyticsError=function(a){this._errorInfo||(this._errorInfo=new j("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},d.prototype._cmdAnalyticsStart=function(a){if(this._canProcess()){var b={};b[ga]=a.visitorOptedOut,this._channel.trigger(new e(ka,b)),this._channel.trigger(new e(ha,a))}},d.prototype._cmdAnalyticsAdStart=function(a){this._canProcess()&&this._channel.trigger(new e(ia,a))},d.prototype._cmdVideoLoad=function(a){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new e(ma,a)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new e(la,a)),this._isTrackingSessionActive=!0)},d.prototype._cmdVideoUnload=function(a){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new e(ma,a)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},d.prototype._cmdVideoStart=function(a){this._canProcess()&&this._channel.trigger(new e(na,a))},d.prototype._cmdVideoComplete=function(a){this._canProcess()&&this._channel.trigger(new e(oa,a))},d.prototype._cmdVideoResume=function(a){this._canProcess()&&this._channel.trigger(new e(pa,a))},d.prototype._cmdPlay=function(a){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdPause=function(a){this._canProcess()&&(this._channel.trigger(new e(ta,a)),this._isPaused=!0,this._runIdleTimer(!0))},d.prototype._cmdAdStart=function(a){this._canProcess()&&(this._channel.trigger(new e(qa,a)),this._resumePlaybackIfPossible(a))},d.prototype._cmdAdComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(ra,a)),a.isInAdBreak||this._resumePlaybackIfPossible(a))},d.prototype._cmdBufferStart=function(a){this._canProcess()&&(this._channel.trigger(new e(ua,a)),this._isBuffering=!0,this._runIdleTimer(!0))},d.prototype._cmdBufferComplete=function(a){this._canProcess()&&(this._isBuffering=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdSeekStart=function(a){this._canProcess()&&(this._channel.trigger(new e(va,a)),this._channel.trigger(new e(ta,a)),this._isSeeking=!0,this._runIdleTimer(!0))},d.prototype._cmdSeekComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(wa,a)),this._isSeeking=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdChapterStart=function(a){this._canProcess()&&this._channel.trigger(new e(xa,a))},d.prototype._cmdChapterComplete=function(a){this._canProcess()&&this._channel.trigger(new e(ya,a))},d.prototype._cmdBitrateChange=function(a){this._canProcess()&&this._channel.trigger(new e(Ba,a))},d.prototype._cmdTrackError=function(a){this._canProcess()&&this._channel.trigger(new e(za,a))},d.prototype._cmdClockReportingTick=function(a){this._canProcess()&&this._channel.trigger(new e(Ca,a))},d.prototype._cmdIdleTick=function(a){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(V),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger(T))},d.prototype._onError=function(a){this._errorInfo=a.data;var b={};b[_]=Da,b[aa]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new e(Aa,b)),this._runReportingTimer(!1),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},d.prototype._runIdleTimer=function(a){var b={};b[$]=!0,a?this._channel.command(Ja,b):this._channel.command(Ka,b)},d.prototype._runFlushFilterTimer=function(a){var b={};b[$]=!0,a?this._channel.command(Ha,b):this._channel.command(Ia,b)},d.prototype._runReportingTimer=function(a){var b={};b[$]=!0,a?this._channel.command(Fa,b):this._channel.command(Ga,b)},d.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handleVideoResume",this._cmdVideoResume),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick),this._pluginManager.comply(this,"handleIdleTick",this._cmdIdleTick)},d.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(t,C),this,"handleVideoLoad",[new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer")]),this._pluginManager.registerBehaviour(new f(t,D),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new f(t,E),this,"handleVideoStart",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"ssl","useSsl"),new h(u,"meta","metaNielsen"),new h(r,"publisher","publisher"),new h(r,"sdk","sdk"),new h(r,"ovp","ovp"),new h(r,"version","version"),new h(r,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new f(t,G),this,"handleVideoComplete",[new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,F),this,"handleVideoResume",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType")]),this._pluginManager.registerBehaviour(new f(t,H),this,"handlePlay",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,I),this,"handlePause",[new h(t,"video.playhead","playhead"),new h(t,"video.playheadStalled","playheadStalled"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,J),this,"handleAdStart",[new h(t,"video.playhead","playhead"),new h(t,"ad.id","adId"),new h(t,"ad.name","adName"),new h(t,"ad.length","adLength"),new h(t,"ad.position","adPosition"),new h(t,"pod.name","podName"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"pod.startTime","podSecond"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd"),new h(u,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(t,K),this,"handleAdComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,L),this,"handleBufferStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,M),this,"handleBufferComplete",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,N),this,"handleSeekStart",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(t,O),this,"handleSeekComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAd","isInAd"),new h(t,"ad.id","adId"),new h(t,"ad.position","adPosition"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"chapter.isInChapter","isInChapter"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,P),this,"handleChapterStart",[new h(t,"video.playhead","playhead"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.chapter.*","metaChapter"),new h(u,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(t,Q),this,"handleChapterComplete",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,R),this,"handleBitrateChange",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,S),this,"handleTrackError"),this._pluginManager.registerBehaviour(new f(v,X),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(v,Z),this,"handleIdleTick",[]),this._pluginManager.registerBehaviour(new f(r,V),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,z),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new f(s,A),this,"handleAnalyticsStart",[new h(s,"vid","vid"),new h(s,"aid","aid"),new h(s,"mid","mid"),new h(s,"customerIDs","customerIDs"),new h(s,"visitorOptedOut","visitorOptedOut"),new h(s,"blob","blob"),new h(s,"loc_hint","loc_hint"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,B),this,"handleAnalyticsAdStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")])},d.prototype._setupDataResolver=function(){var a={},b=this;a.version=function(){return k.getVersion()},a.api_level=function(){return k.getApiLevel()},a.tracking_server=function(){return b._config?b._config.trackingServer:null},a.publisher=function(){return b._config?b._config.publisher:null},a.quiet_mode=function(){return b._config?b._config.quietMode:!1},a.ovp=function(){return b._config?b._config.ovp:null},a.sdk=function(){return b._config?b._config.sdk:null},a.is_primetime=function(){return b._config?b._config.__isPrimetime:!1},a.psdk_version=function(){return b._config?b._config.__psdkVersion:null},a.session_id=function(){return b._channel.request(w)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},d.prototype._resumePlaybackIfPossible=function(a){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle&&(this._isVideoIdle=!1,this._resumePlaybackFromIdle()),this._runIdleTimer(!1),this._channel.trigger(new e(sa,a)))},d.prototype._resumePlaybackFromIdle=function(){this._trigger(V),this._filter.clear(),this._channel.trigger(new e(x)),this._trigger(U),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var q="adobe-heartbeat",r=q,s="adobe-analytics",t="player",u="nielsen",v="service.clock",w="session_id",x="reset_session_id",y="heartbeat-channel",z="error",A="aa_start",B="sc_ad_start",C="video_load",D="video_unload",E="video_start",F="video_resume",G="video_complete",H="play",I="pause",J="ad_start",K="ad_complete",L="buffer_start",M="buffer_complete",N="seek_start",O="seek_complete",P="chapter_start",Q="chapter_complete",R="bitrate_change",S="track_error",T="video_idle_start",U="video_idle_resume",V="quantum_close",W="heartbeat.reporting",X=W+".tick",Y="heartbeat.idle",Z=Y+".tick",$="reset",_="source",aa="error_id",ba="tracking_server",ca="check_status_server",da="publisher",ea="quiet_mode",fa="ssl",ga="visitor_opt_out",ha="api:aa_start",ia="api:aa_ad_start",ja="api:config",ka="api:update_visitor_optout",la="api:video_load",ma="api:video_unload",na="api:video_start",oa="api:video_complete",pa="api:video_resume",qa="api:ad_start",ra="api:ad_complete",sa="api:play",ta="api:pause",ua="api:buffer_start",va="api:seek_start",wa="api:seek_complete",xa="api:chapter_start",ya="api:chapter_complete",za="api:track_error",Aa="api:track_internal_error",Ba="api:bitrate_change",Ca="api:quantum_end",Da="sourceErrorHeartbeat",Ea="clock:check_status.resume",Fa="clock:reporting.resume",Ga="clock:reporting.pause",Ha="clock:flush_filter.resume",Ia="clock:flush_filter.pause",Ja="clock:idle.resume",Ka="clock:idle.pause",La="clock:check_status.get_settings";c.AdobeHeartbeatPlugin=d}(a.ADB.core,a.ADB.va,b),a.ADB.va.plugins.ah||(a.ADB.va.plugins.ah=b)}(this),!function(a){if("undefined"==typeof b)var b={};!function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!a.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof a.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(a.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.InputDataValidator=c}(a.ADB.va,b),function(a){"use strict";function b(){this.channel=c,this.debugLogging=!1}var c="";a.AdobeAnalyticsPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.AdobeAnalyticsPluginDelegate=b}(b),function(a,b,c,d){"use strict";function e(a,b){if(e.__super__.constructor.call(this,r),!a)throw new Error("The reference to the AppMeasurement object cannot be NULL.");this._appMeasurement=a,this._delegate=b,this._customMetaKeys=[],this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new k(!0,w),this._inputDataValidator=new q(function(a){this._errorInfo=a,this._logger.error(this._logTag,a.getMessage()+" | "+a.getDetails());var b=this;setTimeout(function(){b._trigger(x,a),b._delegate&&b._delegate.onError(b._errorInfo)},0)},this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Channel,j=a.radio.Command,k=a.radio.CommandQueue,l=b.ErrorInfo,m=c.md5,n=c.StringUtils,o=c.ObjectUtils,p=d.AdobeAnalyticsPluginConfig,q=d.InputDataValidator;a.extend(e,g),e.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},e.prototype.bootstrap=function(a){e.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},e.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),e.__super__.setup.call(this)},e.prototype.setVideoMetadata=function(a){this._videoMetadata=o.clone(a)},e.prototype.setAdMetadata=function(a){this._adMetadata=o.clone(a)},e.prototype.setChapterMetadata=function(a){this._chapterMetadata=o.clone(a)},e.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):e.__super__._canProcess.call(this)},e.prototype._cmdVideoLoad=function(a){this._errorInfo=null},e.prototype._cmdVideoStart=function(a){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpen,this,[a]))},e.prototype._cmdAdStart=function(a){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpenAd,this,[a]))},e.prototype._cmdHeartbeatPluginError=function(a){this._errorInfo||(this._errorInfo=new l("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(x,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},e.prototype._resetAppMeasurementContextData=function(){delete this._appMeasurement.contextData["a.contentType"],delete this._appMeasurement.contextData["a.media.name"],delete this._appMeasurement.contextData["a.media.friendlyName"],delete this._appMeasurement.contextData["a.media.length"],delete this._appMeasurement.contextData["a.media.playerName"],delete this._appMeasurement.contextData["a.media.channel"],delete this._appMeasurement.contextData["a.media.view"],delete this._appMeasurement.contextData["a.media.ad.name"],delete this._appMeasurement.contextData["a.media.ad.friendlyName"],delete this._appMeasurement.contextData["a.media.ad.podFriendlyName"],delete this._appMeasurement.contextData["a.media.ad.length"],delete this._appMeasurement.contextData["a.media.ad.playerName"],delete this._appMeasurement.contextData["a.media.ad.pod"],delete this._appMeasurement.contextData["a.media.ad.podPosition"],delete this._appMeasurement.contextData["a.media.ad.podSecond"],delete this._appMeasurement.contextData["a.media.ad.view"];for(var a=0;a<this._customMetaKeys.length;a++){var b=this._customMetaKeys[a];delete this._appMeasurement.contextData[b]}this._customMetaKeys=[]},e.prototype._executeOpen=function(a){if(this._logger.debug(this._logTag,"#_executeOpen(id="+a.videoId+", videoName="+a.videoName+", streamType="+a.streamType+", length="+a.videoLength+", playerName="+a.playerName+", channel="+a.channel+", isPrimetime="+a.isPrimetime+", sessionId="+a.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","streamType","videoLength","playerName"])){this._resetAppMeasurementContextData();for(var b in a.metaVideo)a.metaVideo.hasOwnProperty(b)&&(this._appMeasurement.contextData[b]=a.metaVideo[b],this._customMetaKeys.push(b));if(a.metaNielsen)for(var b in a.metaNielsen)a.metaNielsen.hasOwnProperty(b)&&(this._appMeasurement.contextData[b]=a.metaNielsen[b],this._customMetaKeys.push(b));this._appMeasurement.contextData["a.contentType"]=a.streamType,this._appMeasurement.contextData["a.media.name"]=a.videoId,this._appMeasurement.contextData["a.media.friendlyName"]=a.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(a.videoLength)||"0.0",this._appMeasurement.contextData["a.media.playerName"]=a.playerName,this._appMeasurement.contextData["a.media.channel"]=a.channel||"",this._appMeasurement.contextData["a.media.view"]=!0,this._appMeasurement.contextData["a.media.vsid"]=a.sessionId,this._appMeasurement.pev3=y,this._appMeasurement.pe=a.isPrimetime?B:A,this._appMeasurement.track();var c=this;setTimeout(function(){c._trigger(E,a)},0)}},e.prototype._executeOpenAd=function(a){var b=m(a.videoId)+"_"+a.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+a.adId+", streamType="+a.streamType+", length="+a.adLength+", podPlayerName="+a.podPlayerName+", parentId="+a.videoId+", podId="+b+", parentPodPosition="+a.adPosition+", podSecond="+a.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){a.podSecond=null==a.podSecond||isNaN(a.podSecond)?a.playhead:a.podSecond,this._resetAppMeasurementContextData();var c;for(c in a.metaVideo)a.metaVideo.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaVideo[c],this._customMetaKeys.push(c));for(c in a.metaAd)a.metaAd.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaAd[c],this._customMetaKeys.push(c));if(a.metaNielsen)for(var c in a.metaNielsen)a.metaNielsen.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaNielsen[c],this._customMetaKeys.push(c));this._appMeasurement.contextData["a.contentType"]=a.streamType,this._appMeasurement.contextData["a.media.name"]=a.videoId,this._appMeasurement.contextData["a.media.playerName"]=a.playerName,this._appMeasurement.contextData["a.media.channel"]=a.channel||"",this._appMeasurement.contextData["a.media.vsid"]=a.sessionId,this._appMeasurement.contextData["a.media.friendlyName"]=a.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(a.videoLength)||"0.0",this._appMeasurement.contextData["a.media.ad.name"]=a.adId,this._appMeasurement.contextData["a.media.ad.friendlyName"]=a.adName||"",this._appMeasurement.contextData["a.media.ad.podFriendlyName"]=a.podName||"",this._appMeasurement.contextData["a.media.ad.length"]=Math.floor(a.adLength)||"0.0",this._appMeasurement.contextData["a.media.ad.playerName"]=a.podPlayerName,this._appMeasurement.contextData["a.media.ad.pod"]=b,this._appMeasurement.contextData["a.media.ad.podPosition"]=Math.floor(a.adPosition)||"0.0",this._appMeasurement.contextData["a.media.ad.podSecond"]=Math.floor(a.podSecond)||"0.0",this._appMeasurement.contextData["a.media.ad.view"]=!0,this._appMeasurement.pev3=z,this._appMeasurement.pe=a.isPrimetime?D:C,this._appMeasurement.track();var d=this;setTimeout(function(){d._trigger(F,a)},0)}},e.prototype._setupDataResolver=function(){var a={},b=this;a.rsid=function(){return b._appMeasurement.account},a.tracking_server=function(){return b._appMeasurement.ssl&&b._appMeasurement.trackingServerSecure?b._appMeasurement.trackingServerSecure:b._appMeasurement.trackingServer},a.ssl=function(){return b._appMeasurement.ssl},a.vid=function(){return b._appMeasurement.visitorID},a.aid=function(){return b._appMeasurement.analyticsVisitorID},a.mid=function(){return b._appMeasurement.marketingCloudVisitorID},a.blob=function(){return b._appMeasurement.audienceManagerBlob},a.loc_hint=function(){return b._appMeasurement.audienceManagerLocationHint?parseInt(b._appMeasurement.audienceManagerLocationHint):""},a.customerIDs=function(){var a=b._appMeasurement.visitor.getCustomerIDs(),c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];if("object"==typeof e){for(var f in e)e.hasOwnProperty(f)&&("authState"==f?c[d+".as"]=e[f]:c[d+"."+f]=e[f]);c[d+".as"]||(c[d+".as"]="0")}}return c},a.channel=function(){return b._config?b._config.channel:null},a.meta=function(a){var c=a.split(".");if(c.length<2)return null;var d=c.shift();switch(a=c.join("."),d){case"video":return a==i.WILDCARD?b._videoMetadata:b._videoMetadata[a];case"ad":return a==i.WILDCARD?b._adMetadata:b._adMetadata[a];case"chapter":return a==i.WILDCARD?b._chapterMetadata:b._chapterMetadata[a];default:return null}},a.visitorOptedOut=function(){return void 0==b._appMeasurement.visitorOptedOut?!1:b._appMeasurement.visitorOptedOut},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},n.startsWith(e,"meta.")?c[e]=a.meta(e.split("meta.")[1]):c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},e.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},e.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(u,G),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new f(u,H),this,"handleVideoStart",[new h(u,"video.id","videoId"),new h(u,"video.streamType","streamType"),new h(u,"video.name","videoName"),new h(u,"video.length","videoLength"),new h(u,"video.playerName","playerName"),new h(u,"video.streamType","streamType"),new h(v,"is_primetime","isPrimetime"),new h(v,"session_id","sessionId"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(t,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(u,I),this,"handleAdStart",[new h(u,"video.id","videoId"),new h(u,"video.streamType","streamType"),new h(u,"video.playhead","playhead"),new h(u,"video.playerName","playerName"),new h(u,"video.name","videoName"),new h(u,"video.length","videoLength"),new h(u,"ad.id","adId"),new h(u,"ad.length","adLength"),new h(u,"ad.position","adPosition"),new h(u,"ad.name","adName"),new h(u,"pod.name","podName"),new h(u,"pod.position","podPosition"),new h(u,"pod.playerName","podPlayerName"),new h(u,"pod.startTime","podSecond"),new h(v,"is_primetime","isPrimetime"),new h(v,"session_id","sessionId"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd"),new h(t,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(v,x),this,"handleHeartbeatPluginError")},e.prototype._onAppMeasurementReady=function(){this._workQueue.resume()};var r="adobe-analytics",s=r,t="nielsen",u="player",v="adobe-heartbeat",w=2e3,x="error",y="video",z="videoAd",A="ms_s",B="msp_s",C="msa_s",D="mspa_s",E="aa_start",F="sc_ad_start",G="video_load",H="video_start",I="ad_start";d.AdobeAnalyticsPlugin=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){"use strict";var b={SHOW:"a.media.show",SEASON:"a.media.season",EPISODE:"a.media.episode",ASSET_ID:"a.media.asset",GENRE:"a.media.genre",FIRST_AIR_DATE:"a.media.airDate",FIRST_DIGITAL_DATE:"a.media.digitalDate",RATING:"a.media.rating",ORIGINATOR:"a.media.originator",NETWORK:"a.media.network",SHOW_TYPE:"a.media.type",AD_LOAD:"a.media.adLoad",MVPD:"a.media.pass.mvpd",AUTHORIZED:"a.media.pass.auth",DAY_PART:"a.media.dayPart",FEED:"a.media.feed",STREAM_FORMAT:"a.media.format"},c={ADVERTISER:"a.media.ad.advertiser",CAMPAIGN_ID:"a.media.ad.campaign",CREATIVE_ID:"a.media.ad.creative",PLACEMENT_ID:"a.media.ad.placement",SITE_ID:"a.media.ad.site",CREATIVE_URL:"a.media.ad.creativeURL"};a.VideoMetadataKeys=b,a.AdMetadataKeys=c}(b),a.ADB.va.plugins.aa||(a.ADB.va.plugins.aa=b)}(this)}();